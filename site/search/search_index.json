{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u5e8f \u7b80\u4ecb HIROP\u662f\u4e00\u6b3e\u57fa\u4e8e ROS \u7684\u667a\u80fd\u673a\u5668\u4eba\u5f00\u653e\u5f00\u53d1\u5e73\u53f0\uff0c\u4e3b\u8981\u76ee\u7684\u5728\u4e8e\u4e3a\u667a\u80fd\u673a\u5668\u4eba\u5f00\u653e\u8005\u63d0\u4f9b\u66f4\u4e3a\u5b8c\u5584\u7684\u8f6f\u4ef6\u67b6\u6784\u53ca\u76f8\u5173\u529f\u80fd\u8f6f\u4ef6\u5305\u3002 \u5728ROS\u7684\u57fa\u7840\u4e0a\u8865\u5145\u4e86\u76f8\u5173\u611f\u77e5\u3001\u8bc6\u522b\u3001\u6293\u53d6\u7b49\u529f\u80fd\u6a21\u5757\u3002 \u652f\u6301\u7684ROS\u7248\u672c indigo kinetic Warning \u5f53\u524d\u5bf9Kinectic\u7684\u652f\u6301\u8f83\u4e0d\u5b8c\u5584\uff0c\u5efa\u8bae\u4f7f\u7528indigo\u7248\u672c\u8fdb\u884c\u5f00\u53d1 \u7248\u672c V1.0 V0.1","title":"\u4e3b\u9875"},{"location":"#_1","text":"","title":"\u5e8f"},{"location":"#_2","text":"HIROP\u662f\u4e00\u6b3e\u57fa\u4e8e ROS \u7684\u667a\u80fd\u673a\u5668\u4eba\u5f00\u653e\u5f00\u53d1\u5e73\u53f0\uff0c\u4e3b\u8981\u76ee\u7684\u5728\u4e8e\u4e3a\u667a\u80fd\u673a\u5668\u4eba\u5f00\u653e\u8005\u63d0\u4f9b\u66f4\u4e3a\u5b8c\u5584\u7684\u8f6f\u4ef6\u67b6\u6784\u53ca\u76f8\u5173\u529f\u80fd\u8f6f\u4ef6\u5305\u3002 \u5728ROS\u7684\u57fa\u7840\u4e0a\u8865\u5145\u4e86\u76f8\u5173\u611f\u77e5\u3001\u8bc6\u522b\u3001\u6293\u53d6\u7b49\u529f\u80fd\u6a21\u5757\u3002","title":"\u7b80\u4ecb"},{"location":"#ros","text":"indigo kinetic Warning \u5f53\u524d\u5bf9Kinectic\u7684\u652f\u6301\u8f83\u4e0d\u5b8c\u5584\uff0c\u5efa\u8bae\u4f7f\u7528indigo\u7248\u672c\u8fdb\u884c\u5f00\u53d1","title":"\u652f\u6301\u7684ROS\u7248\u672c"},{"location":"#_3","text":"V1.0 V0.1","title":"\u7248\u672c"},{"location":"about/","text":"About \u7ef4\u62a4 \u5f53\u524d\u9879\u76ee\u7531 \u4f5b\u5c71\u534e\u6570\u673a\u5668\u4eba \u8fdb\u884c\u7ef4\u62a4\u3002 \u534f\u8bae \u6b64\u9879\u76ee\u9075\u5faaBSD\u5f00\u6e90\u534f\u8bae\u58f0\u660e Software License Agreement (BSD License) Copyright (c) 2019, Foshan Huashu Robotics Co.,Ltd All rights reserved. Author: Kunlin Xu 1125290220@qq.com Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met: Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution. Neither the name of the Southwest Research Institute, nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.","title":"\u66f4\u65b0\u65e5\u5fd7"},{"location":"about/#about","text":"","title":"About"},{"location":"about/#_1","text":"\u5f53\u524d\u9879\u76ee\u7531 \u4f5b\u5c71\u534e\u6570\u673a\u5668\u4eba \u8fdb\u884c\u7ef4\u62a4\u3002","title":"\u7ef4\u62a4"},{"location":"about/#_2","text":"\u6b64\u9879\u76ee\u9075\u5faaBSD\u5f00\u6e90\u534f\u8bae\u58f0\u660e Software License Agreement (BSD License) Copyright (c) 2019, Foshan Huashu Robotics Co.,Ltd All rights reserved. Author: Kunlin Xu 1125290220@qq.com Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met: Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution. Neither the name of the Southwest Research Institute, nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission. THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.","title":"\u534f\u8bae"},{"location":"problem/","text":"\u95ee\u9898\u6c47\u603b \u8be5\u6587\u6863\u6c47\u603b\u4e86\u5728 HIROP \u5f00\u653e\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u5178\u578b\u95ee\u9898\uff0c\u5728\u5f00\u53d1\u8005\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9047\u5230\u76f8\u5173\u95ee\u9898\u65f6\u53ef\u4ee5\u7ed9\u4e88\u76f8\u5173\u7684\u7ecf\u9a8c\u3002 \u95ee\u9898\u5217\u8868 ORK\u65e0\u6cd5\u8bc6\u522b\u7684\u95ee\u9898 ORK\u65e0\u6cd5\u4f7f\u7528\u81ea\u5efa\u6a21\u578b\u8fdb\u884c\u8bad\u7ec3\u7684\u95ee\u9898","title":"\u95ee\u9898\u6c47\u603b"},{"location":"problem/#_1","text":"\u8be5\u6587\u6863\u6c47\u603b\u4e86\u5728 HIROP \u5f00\u653e\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u5178\u578b\u95ee\u9898\uff0c\u5728\u5f00\u53d1\u8005\u5728\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u9047\u5230\u76f8\u5173\u95ee\u9898\u65f6\u53ef\u4ee5\u7ed9\u4e88\u76f8\u5173\u7684\u7ecf\u9a8c\u3002","title":"\u95ee\u9898\u6c47\u603b"},{"location":"problem/#_2","text":"ORK\u65e0\u6cd5\u8bc6\u522b\u7684\u95ee\u9898 ORK\u65e0\u6cd5\u4f7f\u7528\u81ea\u5efa\u6a21\u578b\u8fdb\u884c\u8bad\u7ec3\u7684\u95ee\u9898","title":"\u95ee\u9898\u5217\u8868"},{"location":"quick-start/","text":"1.\u7b80\u4ecb \u6b64\u4ed3\u5e93\u4e3aHIROP\u7684\u8f6f\u4ef6\u5e73\u53f0\uff0c\u5305\u542b\u534e\u6570\u673a\u5668\u4eba\u90e8\u5206\u673a\u68b0\u81c2\u7684URDF\u6a21\u578b\u3001moveit\u914d\u7f6e\u3001gazebo\u914d\u7f6e\u3001ROS-I\u9a71\u52a8\u5305\u3001\u5939\u722a\u9a71\u52a8\u5305\u3001rviz\u63a7\u5236\u9762\u677f\u3001\u6293\u53d6Demo\u3001\u6293\u53d6\u4eff\u771f\u73af\u5883\u3001\u57fa\u7840Demo\u7b49\u793a\u4f8b\u5f00\u53d1\u5305\u3002 \u6b64\u5e73\u53f0\u9075\u5faaBSD\u5f00\u6e90\u534f\u8bae\u3002 \u652f\u6301indigo\u3001kinetic\u7248\u672c\u3002\u5982\u9700\u4e0b\u8f7dkinetic\u7248\u672c\uff0c\u8bf7\u5c06\u5206\u652f\u5207\u6362\u81f3kinetic\u5206\u652f\u3002 \u7ef4\u62a4\u8005: Kunlin Xu(1125290220@qq.com) 2.\u51c6\u5907\u5de5\u4f5c 2.1 \u73af\u5883\u5b89\u88c5 \u8bf7\u5148\u5bf9ROS\u73af\u5883\u8fdb\u884c\u5b89\u88c5\uff0c\u652f\u6301indigo\u4ee5\u53cakinetic\u7248\u672c\u3002 ROS\u76f8\u5173\u6559\u7a0b\u53ef\u53c2\u8003\uff1a \u5b8c\u6574\u7684\u5b89\u88c5\u6559\u7a0b 2.2\u5b89\u88c5gazebo\u6a21\u578b \u7531\u4e8eindigo\u7248\u672c\u7684gazebo\u6a21\u578b\u6e90\u5730\u5740\u66f4\u6362\uff0c\u6240\u4ee5\u65e0\u6cd5\u81ea\u52a8\u83b7\u53d6\u5b8c\u6574\u7684gazebo\u6a21\u578b\uff0c\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\u79bb\u7ebf\u5b89\u88c5\uff1a 1.\u4ece \u6b64\u94fe\u63a5 \u5904\u4e0b\u8f7d\u5b8c\u6574\u7684gazebo\u6a21\u578b\u538b\u7f29\u5305 2.\u5c06\u6a21\u578b\u89e3\u538b\u81f3 ~/.gazebo/modles \u6587\u4ef6\u5939\u4e2d 3.\u5b9e\u9a8c\u4e4b\u524d\u8bf4\u660e HIROP\u5e73\u53f0\u652f\u6301\u591a\u578b\u53f7\u673a\u68b0\u81c2\uff0c\u56e0\u6b64\u4ee5\u4e0b\u6240\u6709\u5b9e\u9a8c\u5747\u4f7f\u7528 br606 \u673a\u68b0\u81c2\u4f5c\u4e3a\u793a\u4f8b\u8bf4\u660e\u3002\u82e5\u7528\u6237\u60f3\u8fdb\u884c\u5176\u5b83\u652f\u6301\u7684\u673a\u68b0\u81c2\u7684\u4eff\u771f\uff0c\u5219\u53ea\u9700\u5c06\u6307\u4ee4\u4e2d\u7684br606\u66ff\u6362\u6210\u5bf9\u5e94\u578b\u53f7\u5373\u53ef\u3002 4.HIROP\u7684\u57fa\u7840\u4f7f\u7528\u6559\u7a0b 4.1 \u52a0\u8f7d\u673a\u68b0\u81c2\u6a21\u578b roslaunch hsr_description br606_upload.launch 4.2 \u5728rviz\u4e2d\u663e\u793a\u6a21\u578b $ roslaunch hsr_description display.launch 4.3 \u542f\u52a8\u4eff\u771f\u73af\u5883 4.3.1 \u4e00\u952e\u542f\u52a8\uff1a roslaunch hsr_bringup br606_sim.launch 4.3.2 \u5355\u72ec\u542f\u52a8\uff08\u63a8\u8350\uff09: roslaunch hsr_description br606_upload.launch roslaunch hsr_gazebo br606_gazebo.launch roslaunch br606_moveit_config hsr_br606_moveit_planning_execution.launch sim:=true roslaunch br606_moveit_config moveit_rviz.launch 4.4 \u4f7f\u7528gazebo\u4e2d\u7684\u76f8\u673a roslaunch hsr_description br606_with_kinect_upload.launch roslaunch hsr_gazebo robot_gazebo.launch 4.5 \u865a\u62df\u6293\u53d6 roslaunch hsr_description br606_with_gripper_upload.launch roslaunch br606_moveit_config hsr_br606_moveit_planning_execution.launch sim:=true roslaunch br606_moveit_config moveit_rviz.launch rosrun hsr_demo moveit_pick_and_place_demo.py 4.6 \u8fde\u63a5\u5b9e\u9645\u7684\u673a\u5668\u4eba 4.6.1 \u4e00\u952e\u542f\u52a8\uff1a roslaunch hsr_bringup br606_go.launch robot_ip:=10.10.56.214 4.6.2 \u5355\u72ec\u542f\u52a8\uff08\u63a8\u8350\uff09\uff1a roslaunch hsr_description br606_upload.launch roslaunch br606_moveit_config br606_moveit_planning_execution.launch sim:=false roslaunch hsr_rois_client robot_full_interface_download.launch robot_ip:=10.10.56.214 roslaunch br606_moveit_config moveit_rviz.launch 4.7 \u542f\u52a8pick\uff08\u5df2\u77e5\u7269\u4f53\u4f4d\u59ff\uff09 roslaunch hsr_description br606_with_gripper_upload.launch roslaunch br606_moveit_config br606_moveit_planning_execution.launch sim:=false roslaunch hsr_rosi_client robot_full_interface_download.launch robot_ip:=10.10.56.214 rosrun hsr_gripper_driver gripper_control_srv rosrun hsr_gripper_driver gripper_action.py rosrun hsr_pick moveit_pick_and_place_demo.py 4.8 \u542f\u52a8pick and ork\uff08\u524d\u63d0\u9700\u8981\u5bf9\u76f8\u673a\u8fdb\u884c\u6807\u5b9a\uff09 roslaunch kinect2_bridge kinect2_bridge.launch roslaunch hsr_description br606_with_gripper_upload.launch roslaunch br606_moveit_config br606_moveit_planning_execution.launch sim:=false roslaunch hsr_rosi_client robot_full_interface_download.launch robot_ip:=10.10.56.214 rosrun hsr_gripper_driver gripper_control_srv rosrun hsr_gripper_driver gripper_action.py roslaunch hsr_bringup ork_base_tf.launch rosrun hsr_pick tf_camera_to_base.py rosrun object_recognition_core detection -c `rospack find object_recognition_linemod`/conf/detection.ros.ork rosrun hsr_pick moveit_pick_and_place_demo.py 4.9 \u542f\u52a8pick and ork (RVIZ GUI) roslaunch hsr_bringup pick_gui.launch","title":"\u5feb\u901f\u5f00\u59cb"},{"location":"quick-start/#1","text":"\u6b64\u4ed3\u5e93\u4e3aHIROP\u7684\u8f6f\u4ef6\u5e73\u53f0\uff0c\u5305\u542b\u534e\u6570\u673a\u5668\u4eba\u90e8\u5206\u673a\u68b0\u81c2\u7684URDF\u6a21\u578b\u3001moveit\u914d\u7f6e\u3001gazebo\u914d\u7f6e\u3001ROS-I\u9a71\u52a8\u5305\u3001\u5939\u722a\u9a71\u52a8\u5305\u3001rviz\u63a7\u5236\u9762\u677f\u3001\u6293\u53d6Demo\u3001\u6293\u53d6\u4eff\u771f\u73af\u5883\u3001\u57fa\u7840Demo\u7b49\u793a\u4f8b\u5f00\u53d1\u5305\u3002 \u6b64\u5e73\u53f0\u9075\u5faaBSD\u5f00\u6e90\u534f\u8bae\u3002 \u652f\u6301indigo\u3001kinetic\u7248\u672c\u3002\u5982\u9700\u4e0b\u8f7dkinetic\u7248\u672c\uff0c\u8bf7\u5c06\u5206\u652f\u5207\u6362\u81f3kinetic\u5206\u652f\u3002 \u7ef4\u62a4\u8005: Kunlin Xu(1125290220@qq.com)","title":"1.\u7b80\u4ecb"},{"location":"quick-start/#2","text":"","title":"2.\u51c6\u5907\u5de5\u4f5c"},{"location":"quick-start/#21","text":"\u8bf7\u5148\u5bf9ROS\u73af\u5883\u8fdb\u884c\u5b89\u88c5\uff0c\u652f\u6301indigo\u4ee5\u53cakinetic\u7248\u672c\u3002 ROS\u76f8\u5173\u6559\u7a0b\u53ef\u53c2\u8003\uff1a \u5b8c\u6574\u7684\u5b89\u88c5\u6559\u7a0b","title":"2.1 \u73af\u5883\u5b89\u88c5"},{"location":"quick-start/#22gazebo","text":"\u7531\u4e8eindigo\u7248\u672c\u7684gazebo\u6a21\u578b\u6e90\u5730\u5740\u66f4\u6362\uff0c\u6240\u4ee5\u65e0\u6cd5\u81ea\u52a8\u83b7\u53d6\u5b8c\u6574\u7684gazebo\u6a21\u578b\uff0c\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\u79bb\u7ebf\u5b89\u88c5\uff1a 1.\u4ece \u6b64\u94fe\u63a5 \u5904\u4e0b\u8f7d\u5b8c\u6574\u7684gazebo\u6a21\u578b\u538b\u7f29\u5305 2.\u5c06\u6a21\u578b\u89e3\u538b\u81f3 ~/.gazebo/modles \u6587\u4ef6\u5939\u4e2d","title":"2.2\u5b89\u88c5gazebo\u6a21\u578b"},{"location":"quick-start/#3","text":"HIROP\u5e73\u53f0\u652f\u6301\u591a\u578b\u53f7\u673a\u68b0\u81c2\uff0c\u56e0\u6b64\u4ee5\u4e0b\u6240\u6709\u5b9e\u9a8c\u5747\u4f7f\u7528 br606 \u673a\u68b0\u81c2\u4f5c\u4e3a\u793a\u4f8b\u8bf4\u660e\u3002\u82e5\u7528\u6237\u60f3\u8fdb\u884c\u5176\u5b83\u652f\u6301\u7684\u673a\u68b0\u81c2\u7684\u4eff\u771f\uff0c\u5219\u53ea\u9700\u5c06\u6307\u4ee4\u4e2d\u7684br606\u66ff\u6362\u6210\u5bf9\u5e94\u578b\u53f7\u5373\u53ef\u3002","title":"3.\u5b9e\u9a8c\u4e4b\u524d\u8bf4\u660e"},{"location":"quick-start/#4hirop","text":"","title":"4.HIROP\u7684\u57fa\u7840\u4f7f\u7528\u6559\u7a0b"},{"location":"quick-start/#41","text":"roslaunch hsr_description br606_upload.launch","title":"4.1 \u52a0\u8f7d\u673a\u68b0\u81c2\u6a21\u578b"},{"location":"quick-start/#42-rviz","text":"$ roslaunch hsr_description display.launch","title":"4.2 \u5728rviz\u4e2d\u663e\u793a\u6a21\u578b"},{"location":"quick-start/#43","text":"","title":"4.3 \u542f\u52a8\u4eff\u771f\u73af\u5883"},{"location":"quick-start/#431","text":"roslaunch hsr_bringup br606_sim.launch","title":"4.3.1 \u4e00\u952e\u542f\u52a8\uff1a"},{"location":"quick-start/#432","text":"roslaunch hsr_description br606_upload.launch roslaunch hsr_gazebo br606_gazebo.launch roslaunch br606_moveit_config hsr_br606_moveit_planning_execution.launch sim:=true roslaunch br606_moveit_config moveit_rviz.launch","title":"4.3.2 \u5355\u72ec\u542f\u52a8\uff08\u63a8\u8350\uff09:"},{"location":"quick-start/#44-gazebo","text":"roslaunch hsr_description br606_with_kinect_upload.launch roslaunch hsr_gazebo robot_gazebo.launch","title":"4.4 \u4f7f\u7528gazebo\u4e2d\u7684\u76f8\u673a"},{"location":"quick-start/#45","text":"roslaunch hsr_description br606_with_gripper_upload.launch roslaunch br606_moveit_config hsr_br606_moveit_planning_execution.launch sim:=true roslaunch br606_moveit_config moveit_rviz.launch rosrun hsr_demo moveit_pick_and_place_demo.py","title":"4.5 \u865a\u62df\u6293\u53d6"},{"location":"quick-start/#46","text":"","title":"4.6 \u8fde\u63a5\u5b9e\u9645\u7684\u673a\u5668\u4eba"},{"location":"quick-start/#461","text":"roslaunch hsr_bringup br606_go.launch robot_ip:=10.10.56.214","title":"4.6.1 \u4e00\u952e\u542f\u52a8\uff1a"},{"location":"quick-start/#462","text":"roslaunch hsr_description br606_upload.launch roslaunch br606_moveit_config br606_moveit_planning_execution.launch sim:=false roslaunch hsr_rois_client robot_full_interface_download.launch robot_ip:=10.10.56.214 roslaunch br606_moveit_config moveit_rviz.launch","title":"4.6.2 \u5355\u72ec\u542f\u52a8\uff08\u63a8\u8350\uff09\uff1a"},{"location":"quick-start/#47-pick","text":"roslaunch hsr_description br606_with_gripper_upload.launch roslaunch br606_moveit_config br606_moveit_planning_execution.launch sim:=false roslaunch hsr_rosi_client robot_full_interface_download.launch robot_ip:=10.10.56.214 rosrun hsr_gripper_driver gripper_control_srv rosrun hsr_gripper_driver gripper_action.py rosrun hsr_pick moveit_pick_and_place_demo.py","title":"4.7 \u542f\u52a8pick\uff08\u5df2\u77e5\u7269\u4f53\u4f4d\u59ff\uff09"},{"location":"quick-start/#48-pick-and-ork","text":"roslaunch kinect2_bridge kinect2_bridge.launch roslaunch hsr_description br606_with_gripper_upload.launch roslaunch br606_moveit_config br606_moveit_planning_execution.launch sim:=false roslaunch hsr_rosi_client robot_full_interface_download.launch robot_ip:=10.10.56.214 rosrun hsr_gripper_driver gripper_control_srv rosrun hsr_gripper_driver gripper_action.py roslaunch hsr_bringup ork_base_tf.launch rosrun hsr_pick tf_camera_to_base.py rosrun object_recognition_core detection -c `rospack find object_recognition_linemod`/conf/detection.ros.ork rosrun hsr_pick moveit_pick_and_place_demo.py","title":"4.8 \u542f\u52a8pick and ork\uff08\u524d\u63d0\u9700\u8981\u5bf9\u76f8\u673a\u8fdb\u884c\u6807\u5b9a\uff09"},{"location":"quick-start/#49-pick-and-ork-rviz-gui","text":"roslaunch hsr_bringup pick_gui.launch","title":"4.9 \u542f\u52a8pick and ork (RVIZ GUI)"},{"location":"resource/","text":"\u95ee\u9898\u6c47\u603b \u8be5\u6587\u6863\u6c47\u603b\u4e86\u5728 HIROP \u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u4e86\u7684\u5fc5\u8981\u6027\u7684\u6587\u6863\uff0c\u5305\u542b\u76f8\u5173API\u624b\u518c\uff0c\u7b2c\u4e09\u65b9\u535a\u5ba2\u7b49\u5916\u90e8\u94fe\u63a5\u3002 \u8d44\u6e90\u5217\u8868 Moveit API\u6307\u5357","title":"\u8d44\u6e90\u6c47\u603b"},{"location":"resource/#_1","text":"\u8be5\u6587\u6863\u6c47\u603b\u4e86\u5728 HIROP \u5f00\u53d1\u8fc7\u7a0b\u4e2d\u4f7f\u7528\u4e86\u7684\u5fc5\u8981\u6027\u7684\u6587\u6863\uff0c\u5305\u542b\u76f8\u5173API\u624b\u518c\uff0c\u7b2c\u4e09\u65b9\u535a\u5ba2\u7b49\u5916\u90e8\u94fe\u63a5\u3002","title":"\u95ee\u9898\u6c47\u603b"},{"location":"resource/#_2","text":"Moveit API\u6307\u5357","title":"\u8d44\u6e90\u5217\u8868"},{"location":"chm/","text":"\u53c2\u8003\u624b\u518c \u53c2\u8003\u624b\u518c\u4e3b\u8981\u63d0\u4f9b HIROP \u5e73\u53f0\u7684\u6307\u4ee4\u3001\u5305\u3001launch\u3001\u9519\u8bef\u4ecb\u7ecd\u7b49\u76f8\u5173\u4f7f\u7528\u6307\u5357\u3002 \u624b\u518c\u5217\u8868 package\u4ecb\u7ecd","title":"\u5e8f"},{"location":"chm/#_1","text":"\u53c2\u8003\u624b\u518c\u4e3b\u8981\u63d0\u4f9b HIROP \u5e73\u53f0\u7684\u6307\u4ee4\u3001\u5305\u3001launch\u3001\u9519\u8bef\u4ecb\u7ecd\u7b49\u76f8\u5173\u4f7f\u7528\u6307\u5357\u3002","title":"\u53c2\u8003\u624b\u518c"},{"location":"chm/#_2","text":"package\u4ecb\u7ecd","title":"\u624b\u518c\u5217\u8868"},{"location":"chm/agv_chm/","text":"CO602A AGV\u4f7f\u7528\u6559\u7a0b \u901a\u8fc7\u672c\u6559\u7a0b\u53ef\u4ee5\u4e60\u5f97\u534e\u6570CO602A+AGV\u590d\u5408\u673a\u5668\u4eba\u7684\u4f7f\u7528\u3002 \u73af\u5883\u914d\u7f6e \u5728\u5f00\u59cb\u524d\u9700\u8981\u505a\u4ee5\u4e0b\u7684\u521d\u59cb\u914d\u7f6e\u3002 \u8fde\u63a5wifi \u590d\u5408\u673a\u5668\u4eba\u88c5\u6709wifi\u53d1\u5c04\u5668\u3002 wifi\u540d\u79f0\uff1aWIFI-03D148 wifi\u5bc6\u7801\uff1a\u65e0\u5bc6\u7801 \u767b\u5f55\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668 \u901a\u8fc7ssh\u53ef\u4ee5\u767b\u5f55\u5230\u590d\u5408\u673a\u5668\u4eba\u7684\u63a7\u5236\u5668\u4e2d \u7528\u6237\u540d\u79f0\uff1a shansu \u5bc6\u7801\uff1a 123 $ ssh shansu@192.168.99.30 $ # \u8f93\u5165\u5bc6\u7801123 Note \u672c\u6587\u540e\u9762\u4e2d\u63d0\u5230\u7684\u767b\u5f55\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668\uff0c\u5747\u53ef\u53c2\u8003\u6b64\u5904 \u5206\u5e03\u5f0f\u914d\u7f6e \u5728\u672c\u5e73\u53f0\u4e2d\uff0c\u662f\u901a\u8fc7wifi\u4e0e\u590d\u5408\u673a\u5668\u4eba\u7684\u63a7\u5236\u5668\u8fdb\u884c\u901a\u8baf\uff0c\u5728\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668\u8fd0\u884cROS\u7684master\u8282\u70b9\u3002\u7528\u6237\u4e0a\u4f4d\u673a\u9700\u8981\u4e0e\u590d\u5408\u673a\u5668\u4eba\u5e95\u76d8\u901a\u8baf\u5219\u9700\u8fdb\u884c\u5206\u5e03\u5f0f\u914d\u7f6e\u3002\u6b65\u9aa4\u5982\u4e0b\uff1a 1\uff0c\u83b7\u53d6\u672c\u673aIP\u5730\u5740\u548c\u4e3b\u673a\u540d\u79f0 $ ifconfig #\u83b7\u53d6\u672c\u673aIP\u5730\u5740 $ cat /etc/hostname #\u83b7\u53d6\u672c\u673a\u7684\u4e3b\u673a\u540d\u79f0 2\uff0c\u5c06\u672c\u673aIP\u5730\u5740\u548c\u4e3b\u673a\u540d\u79f0\u5199\u5165\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668\u7684hosts\u6587\u4ef6\u4e2d $ ssh shansu@192.168.99.30 #\u767b\u5f55\u5e95\u76d8 $ vim /etc/hosts #\u7f16\u8f91hosts\u6587\u4ef6 \u5728\u6700\u540e\u4e00\u884c\u4e2d\u52a0\u5165\uff1a \u672c\u673a\u7684IP\u5730\u5740 \u672c\u673a\u7684\u4e3b\u673a\u540d\u79f0 \u4f8b\u5982\uff1a 192.168.99.233 fshs-kinetic 3\uff0c\u5c06\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668\u7684IP\u5730\u5740\u548c\u4e3b\u673a\u540d\u79f0\u5199\u5165\u672c\u673a\u7684hosts\u6587\u4ef6\u4e2d $ vim /etc/hosts #\u7f16\u8f91\u672c\u673a\u7684hosts\u6587\u4ef6 \u5728\u6700\u540e\u4e00\u884c\u4e2d\u52a0\u5165\uff1a 192.168.99.30 shansurobotics 4\uff0c\u914d\u7f6e\u73af\u5883\u53d8\u91cf \u53ef\u4ee5\u901a\u8fc7\u6307\u4ee4\u7684\u5f62\u5f0f\u6765\u5bfc\u5165\u73af\u5883\u53d8\u91cf $ export ROS_HOSTNAME=\u672c\u673a\u4e3b\u673a\u7684\u540d\u79f0 # \u5982\uff1aexport ROS_HOSTNAME=fshs-kinetic $ export ROS_MASTER_URI=http://shansurobotics:11311 \u6216\u8005\u5c06\u5176\u5199\u5165\u81f3\u811a\u6b65\u6587\u4ef6\u4e2d\uff0c\u7136\u540e\u901a\u8fc7source\u6307\u4ee4\u6765\u5bfc\u5165\u73af\u5883\u53d8\u91cf\uff0c\u65b9\u4fbf\u4f7f\u7528\u3002 Note \u7531\u4e8e\u914d\u7f6e\u5206\u5e03\u5f0f\u540e\uff0c\u8bb2\u65e0\u6cd5\u4e0e\u672c\u673a\u7684ROS\u7a0b\u5e8f\u901a\u8baf\uff0c\u56e0\u6b64\u4e0d\u5efa\u8bae\u5c06\u73af\u5883\u53d8\u91cf\u76f4\u63a5\u5199\u5165\u81f3.bashrc\u6587\u4ef6\u4e2d \u57fa\u7840\u6559\u7a0b \u5728\u5b8c\u6210\u4e0a\u8ff0\u7684\u57fa\u7840\u73af\u5883\u914d\u7f6e\u540e\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u6211\u4eec\u7684\u57fa\u7840\u4f7f\u7528\u6559\u7a0b\u4e86\u3002 \u5efa\u56fe \u4e0d\u7ba1\u5728\u8fdb\u884c\u5e95\u76d8\u5bfc\u822a\u8fd8\u662f\u79fb\u52a8\u7269\u4f53\u6293\u53d6\u65f6\uff0c\u9996\u5148\u90fd\u9700\u8981\u5c06\u73af\u5883\u7684\u5730\u56fe\u6784\u5efa\u51fa\u6765\u3002 $ ssh shansu@192.168.99.30 #\u767b\u5f55\u5e95\u76d8 $ roslaunch ir100_navigation ir100_gmapping.launch \u5728\u5efa\u56fe\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u5728\u672c\u673a\u4e0a\u53ef\u89c6\u5316\u5efa\u56fe\u8fc7\u7a0b $ roslaunch hsr_bringup view_nav.launch #\u8be5\u6307\u4ee4\u5728\u672c\u673a\u4e0a\u6267\u884c \u6267\u884c\u5b8c\u4e0a\u8ff0\u6307\u4ee4\u540e\uff0c\u79fb\u52a8\u5e95\u76d8\u4fbf\u5df2\u7ecf\u5f00\u59cb\u5efa\u56fe\u4e86\uff0c\u8fd9\u65f6\u53ef\u4ee5\u901a\u8fc7\u64cd\u63a7\u624b\u67c4\u6765\u63a7\u5236\u5e95\u76d8\u8d70\u4e00\u5708\u9700\u8981\u88ab\u6784\u5efa\u7684\u73af\u5883\u3002 Note \u5728\u6784\u5efa\u5730\u56fe\u7684\u65f6\u5019\uff0c\u4eba\u5e94\u5f53\u7ad9\u5728\u79fb\u52a8\u5e95\u76d8\u7684\u540e\u65b9\u6765\u63a7\u5236\u79fb\u52a8\u5e95\u76d8\u8fd0\u52a8\u3002\u4e14\u5c3d\u91cf\u907f\u514d\u5f27\u5f62\u7684\u8fd0\u52a8\uff0c\u9700\u8981\u8f6c\u5411\u65f6\u6700\u597d\u5148\u8bb2\u79fb\u52a8\u5e95\u76d8\u505c\u6b62\u4e0b\u6765\u5728\u8fdb\u884c\u65cb\u8f6c \u5f53\u5df2\u7ecf\u63a7\u5236\u79fb\u52a8\u5e95\u76d8\u7ed5\u73af\u5883\u8d70\u4e00\u5708\u540e\u5c31\u53ef\u4ee5\u4fdd\u5b58\u5730\u56fe\u4e86\u3002 \u8fd9\u65f6\u5148\u4e0d\u8981\u5173\u95ed\u5efa\u56fe\u7a0b\u5e8f \uff0c\u65b0\u5f00\u4e00\u4e2a\u7ec8\u7aef\u6267\u884c\u4ee5\u4e0b\u6307\u4ee4 $ ssh shansu@192.168.99.30 #\u767b\u5f55\u5e95\u76d8 $ rosrun map_server map_saver -f ~/work/maps/test_map #\u4fdd\u5b58\u5730\u56fe\u81f3~/work/maps/\u76ee\u5f55\uff0c\u5730\u56fe\u540d\u79f0\u4e3atest_map Note \u5f53\u4fdd\u5b58\u5b8c\u5730\u56fe\u540e\u518d\u8bb2\u5efa\u56fe\u7a0b\u5e8f\u5173\u95ed \u5bfc\u822a \u5728\u5c06\u5730\u56fe\u6784\u5efa\u5b8c\u6210\u540e\u4fbf\u53ef\u8fdb\u884c\u5bfc\u822a\u5b9e\u9a8c\u3002 1\uff0c\u5728\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668\u4e0a\u542f\u52a8\u5bfc\u822a\u7a0b\u5e8f $ ssh shansu@192.168.99.30 #\u767b\u5f55\u5e95\u76d8 $ roslaunch ir100_navigation ir100_navigation.launch 2\uff0c\u5728\u672c\u673a\u4e0a\u53ef\u89c6\u5316\u5bfc\u822a\u8fc7\u7a0b $ roslaunch hsr_bringup view_nav.launch 3\uff0c\u7ed9\u5b9a\u673a\u5668\u4eba\u7684\u521d\u59cb\u4f4d\u7f6e \u70b9\u51fb2D Pose Estimate\u5de5\u5177\uff0c\u5728\u5730\u56fe\u4e0a\u6807\u8bb0\u5f53\u524d\u5b9e\u9645\u673a\u5668\u4eba\u5728\u5730\u56fe\u4e0a\u7684\u4f4d\u7f6e 4\uff0c\u66f4\u65b0\u673a\u5668\u4eba\u5b9a\u4f4d \u5728\u7ed9\u5b9a\u673a\u5668\u4eba\u7684\u521d\u59cb\u4f4d\u7f6e\u540e\uff0c\u53ef\u80fd\u4f1a\u6709\u504f\u5dee\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u6307\u4ee4\u6765\u66f4\u65b0\u8fed\u4ee3\u673a\u5668\u4eba\u7684\u5b9a\u4f4d $ rosservice call /request_nomotion_update Note \u53ef\u4ee5\u591a\u6b21\u6267\u884c\u76f4\u5230\u673a\u5668\u4eba\u5b9a\u4f4d\u8f83\u4e3a\u7cbe\u786e\u540e\u3002 5\uff0c\u7ed9\u5b9a\u76ee\u6807\u70b9 \u5728\u7ed9\u5b9a\u548c\u66f4\u65b0\u673a\u5668\u4eba\u7684\u521d\u59cb\u4f4d\u7f6e\u540e\uff0c\u4fbf\u53ef\u4ee5\u4e3a\u673a\u5668\u4eba\u6307\u5b9a\u76ee\u6807\u70b9\uff0c\u6765\u8ba9\u673a\u5668\u4eba\u5bfc\u822a\u81f3\u76ee\u6807\u70b9\u3002 \u70b9\u51fbRVIZ\u4e2d\u76842D Nav Goal\u5de5\u5177\uff0c\u5728\u5730\u56fe\u4e0a\u6807\u8bb0\u4e00\u4e2a\u76ee\u6807\u70b9\u3002\u6807\u8bb0\u540e\uff0c\u673a\u5668\u4eba\u4fbf\u4f1a\u5f00\u59cb\u8fd0\u52a8\u3002 \u521b\u5efa\u5730\u56fe\u6807\u8bb0 \u4e3a\u4e86\u8fdb\u884c\u79fb\u52a8\u6293\u53d6\u5e94\u7528\uff0c\u6211\u4eec\u9700\u8981\u5728\u5730\u56fe\u4e0a\u521b\u5efa\u6807\u8bb0\u6765\u534f\u52a9\u8fdb\u884c\u79fb\u52a8\u6293\u53d6\u3002 \u5728\u5bfc\u822a\u7a0b\u5e8f\u6ca1\u6709\u5173\u95ed\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528RVIZ\u4e2d\u7684map flag\u5de5\u5177\u6765\u5bf9\u5730\u56fe\u8fdb\u884c\u6807\u8bb0\u3002 1\uff0c\u70b9\u51fbRVIZ\u83dc\u5355\u680f\u4e2d\u7684Panels -> Add New Panels\uff0c\u9009\u62e9rviz_map_tool\u4e0b\u7684FlagManager\uff1b 2\uff0c\u70b9\u51fb\u5de5\u5177\u680f\u4e2d\u7684\uff0b\uff0c\u9009\u62e9\u6dfb\u52a0rviz_map_tool\u4e0b\u7684MapFlag\uff1b 3\uff0c\u9009\u62e9\u5de5\u5177\u680f\u4e2d\u7684Map Flag\u5de5\u5177\uff0c\u7136\u540e\u518d\u5730\u56fe\u4e0a\u6807\u8bb0\u7b2c\u4e00\u4e2a\u6807\u8bb0\u70b9\u3002\uff08\u5bf9\u5e94\u7269\u7406\u4e16\u754c\u7684\u684c\u5b50\u5904\uff09 4\uff0c\u5728FlagManager\u7a97\u53e3\u4e2d\uff0cMap\u540d\u79f0\u8bbe\u7f6e\u4e3ademo\uff0cFlag\u540d\u79f0\u8bbe\u7f6e\u4e3atable\uff0c\u5e76\u70b9\u51fbAdd Flag\u6309\u94ae 5\uff0c\u6309\u7167\u7b2c3\u30014\u6b65\uff0c\u6dfb\u52a0\u591a\u4e00\u4e2a\u6807\u8bb0\u70b9\uff08\u5bf9\u5e94\u7269\u7406\u4e16\u754c\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u7a7a\u65f7\u5904\uff09\uff0c\u5e76\u5c06\u5176Flag\u540d\u79f0\u8bbe\u7f6e\u4e3ahome\uff0c\u5e76\u6dfb\u52a0\u3002 \u5728\u521b\u5efa\u5b8cflag\u540e\uff0c\u9700\u8981\u5c06flag\u4fe1\u606f\u4e0b\u8f7d\u5230\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668\u4e2d\uff0c\u6307\u4ee4\u5982\u4e0b $ scp -r ~/.hirop/data/MAP/demo/ shansu@192.168.99.30:~/.hirop/data/MAP/demo \u6d4b\u8bd5\u79fb\u52a8\u6293\u53d6\u5e94\u7528 \u5728\u638c\u63e1\u4e0a\u8ff0\u7684\u57fa\u7840\u6559\u7a0b\u540e\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u5b66\u4e60\u5982\u4f55\u4f7f\u7528\u79fb\u52a8\u6293\u53d6\u5e94\u7528\u4e86\u3002 \u5e94\u7528\u4ecb\u7ecd \u8be5\u5e94\u7528\u542f\u52a8\u540e\uff0c\u590d\u5408\u673a\u5668\u4eba\u4f1a\u81ea\u52a8\u5bfc\u822a\u81f3\u684c\u5b50\u524d\u65b9\u3002\u7136\u540e\u4f7f\u7528\u624b\u773c\u76f8\u673a\u8bc6\u522b\u684c\u9762\u4e0a\u7684\u725b\u5976\u76d2\uff0c\u5e76\u4e14\u5c06\u725b\u5976\u76d2\u6293\u53d6\u653e\u7f6e\u5728\u79fb\u52a8\u5730\u76d8\u4e0a\u3002 \u5f53\u684c\u9762\u4e0a\u7684\u6240\u6709\u725b\u5976\u76d2\u90fd\u88ab\u6293\u53d6\u653e\u7f6e\u540e\uff0c\u590d\u5408\u673a\u5668\u4eba\u4fbf\u4f1a\u5bfc\u822a\u56de\u5230home\u70b9\u3002 \u542f\u52a8\u73af\u5883 1\uff0c\u542f\u52a8\u4f9d\u8d56\u73af\u5883 $ ssh shansu@192.168.99.30 #\u767b\u5f55\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668 $ roslaunch hsr_agv_bringup move_pick_app_go.launch 2\uff0c\u542f\u52a8\u611f\u77e5\u6a21\u5757 \u65b0\u5efa\u4e00\u4e2a\u7ec8\u7aef $ ssh shansu@192.168.99.30 #\u767b\u5f55\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668 $ rosrun perception_bridge perception_bridge.py 3\uff0c\u521d\u59cb\u5316 \u65b0\u5efa\u4e00\u4e2a\u7ec8\u7aef $ rosservice call /set_robot_enable true #\u7ed9\u673a\u68b0\u81c2\u4e0a\u4f7f\u80fd $ rosservice call /serial_open /dev/ttyUSB0 115200 #\u8bbe\u7f6e\u5939\u722a\u7684\u4e32\u53e3\u53f7\u53ca\u6ce2\u7279\u7387 $ rosservice call /set_pick_place_vel_acc 0.3 0.05 #\u8bbe\u7f6e\u6293\u53d6\u65f6\u673a\u68b0\u81c2\u7684\u901f\u5ea6\u548c\u52a0\u901f\u5ea6 4, \u5b9a\u4f4d \u53c2\u8003\u5bfc\u822a\u5c0f\u8282\u4e2d\u4e3a\u673a\u5668\u4eba\u6307\u5b9a\u521d\u59cb\u4f4d\u59ff\u7684\u6765\u6307\u5b9a\u5f53\u524d\u673a\u5668\u4eba\u5728\u5b9e\u9645\u73af\u5883\u4e2d\u7684\u4f4d\u7f6e\u3002 5\uff0c\u542f\u52a8\u5e94\u7528 \u65b0\u5efa\u4e00\u4e2a\u7ec8\u7aef $ ssh shansu@192.168.99.30 #\u767b\u5f55\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668 $ rosrun app_move_pick app_move_pick $ # \u952e\u51657\uff0c\u6267\u884c\u8fde\u7eed\u6293\u53d6 \u53c2\u6570\u4fee\u6539 \u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u662f\u4e25\u683c\u6309\u7167\u4e0a\u8ff0\u6559\u7a0b\u8fdb\u884c\u5b9e\u9a8c\u5219\u65e0\u987b\u4fee\u6539\u76f8\u5173\u53c2\u6570\u3002\u4f46\u5982\u679c\u4fee\u6539\u4e86\u76f8\u5173\u540d\u79f0\u6216\u8005\u6709\u7279\u6b8a\u9700\u6c42\uff0c\u5219\u9700\u8981\u4fee\u6539\u76f8\u5173\u53c2\u6570\u6765\u8fdb\u884c\u9002\u914d\u3002 Note \u5b66\u4e60\u4fee\u6539\u76f8\u5173\u7684\u53c2\u6570\u4e5f\u6709\u52a9\u4e0e\u7406\u89e3\u5e94\u7528\u7684\u539f\u7406 1\uff0c\u4fee\u6539\u5730\u56fe\u540d\u79f0\uff1a\u67e5\u770b\u548c\u4fee\u6539hsr_agv_bringup move_pick_app_go.launch 2\uff0c\u4fee\u6539\u6807\u8bb0\u5730\u56fe\u540d\u79f0\uff1a\u4fee\u6539app_move_pick\u4e2d\u7684auto_move_pick.cpp\u7684\u7b2c20\u884c 3\uff0c\u4fee\u6539\u7269\u4f53\u653e\u7f6e\u7684\u4f4d\u59ff\uff1a\u4fee\u6539app_move_pick\u4e2d\u7684auto_move_pick.cpp\u4e2d\u7684initPlace\u51fd\u6570\u3002","title":"agv\u4f7f\u7528\u624b\u518c"},{"location":"chm/agv_chm/#co602a-agv","text":"\u901a\u8fc7\u672c\u6559\u7a0b\u53ef\u4ee5\u4e60\u5f97\u534e\u6570CO602A+AGV\u590d\u5408\u673a\u5668\u4eba\u7684\u4f7f\u7528\u3002","title":"CO602A AGV\u4f7f\u7528\u6559\u7a0b"},{"location":"chm/agv_chm/#_1","text":"\u5728\u5f00\u59cb\u524d\u9700\u8981\u505a\u4ee5\u4e0b\u7684\u521d\u59cb\u914d\u7f6e\u3002","title":"\u73af\u5883\u914d\u7f6e"},{"location":"chm/agv_chm/#wifi","text":"\u590d\u5408\u673a\u5668\u4eba\u88c5\u6709wifi\u53d1\u5c04\u5668\u3002 wifi\u540d\u79f0\uff1aWIFI-03D148 wifi\u5bc6\u7801\uff1a\u65e0\u5bc6\u7801","title":"\u8fde\u63a5wifi"},{"location":"chm/agv_chm/#_2","text":"\u901a\u8fc7ssh\u53ef\u4ee5\u767b\u5f55\u5230\u590d\u5408\u673a\u5668\u4eba\u7684\u63a7\u5236\u5668\u4e2d \u7528\u6237\u540d\u79f0\uff1a shansu \u5bc6\u7801\uff1a 123 $ ssh shansu@192.168.99.30 $ # \u8f93\u5165\u5bc6\u7801123 Note \u672c\u6587\u540e\u9762\u4e2d\u63d0\u5230\u7684\u767b\u5f55\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668\uff0c\u5747\u53ef\u53c2\u8003\u6b64\u5904","title":"\u767b\u5f55\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668"},{"location":"chm/agv_chm/#_3","text":"\u5728\u672c\u5e73\u53f0\u4e2d\uff0c\u662f\u901a\u8fc7wifi\u4e0e\u590d\u5408\u673a\u5668\u4eba\u7684\u63a7\u5236\u5668\u8fdb\u884c\u901a\u8baf\uff0c\u5728\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668\u8fd0\u884cROS\u7684master\u8282\u70b9\u3002\u7528\u6237\u4e0a\u4f4d\u673a\u9700\u8981\u4e0e\u590d\u5408\u673a\u5668\u4eba\u5e95\u76d8\u901a\u8baf\u5219\u9700\u8fdb\u884c\u5206\u5e03\u5f0f\u914d\u7f6e\u3002\u6b65\u9aa4\u5982\u4e0b\uff1a 1\uff0c\u83b7\u53d6\u672c\u673aIP\u5730\u5740\u548c\u4e3b\u673a\u540d\u79f0 $ ifconfig #\u83b7\u53d6\u672c\u673aIP\u5730\u5740 $ cat /etc/hostname #\u83b7\u53d6\u672c\u673a\u7684\u4e3b\u673a\u540d\u79f0 2\uff0c\u5c06\u672c\u673aIP\u5730\u5740\u548c\u4e3b\u673a\u540d\u79f0\u5199\u5165\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668\u7684hosts\u6587\u4ef6\u4e2d $ ssh shansu@192.168.99.30 #\u767b\u5f55\u5e95\u76d8 $ vim /etc/hosts #\u7f16\u8f91hosts\u6587\u4ef6 \u5728\u6700\u540e\u4e00\u884c\u4e2d\u52a0\u5165\uff1a \u672c\u673a\u7684IP\u5730\u5740 \u672c\u673a\u7684\u4e3b\u673a\u540d\u79f0 \u4f8b\u5982\uff1a 192.168.99.233 fshs-kinetic 3\uff0c\u5c06\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668\u7684IP\u5730\u5740\u548c\u4e3b\u673a\u540d\u79f0\u5199\u5165\u672c\u673a\u7684hosts\u6587\u4ef6\u4e2d $ vim /etc/hosts #\u7f16\u8f91\u672c\u673a\u7684hosts\u6587\u4ef6 \u5728\u6700\u540e\u4e00\u884c\u4e2d\u52a0\u5165\uff1a 192.168.99.30 shansurobotics 4\uff0c\u914d\u7f6e\u73af\u5883\u53d8\u91cf \u53ef\u4ee5\u901a\u8fc7\u6307\u4ee4\u7684\u5f62\u5f0f\u6765\u5bfc\u5165\u73af\u5883\u53d8\u91cf $ export ROS_HOSTNAME=\u672c\u673a\u4e3b\u673a\u7684\u540d\u79f0 # \u5982\uff1aexport ROS_HOSTNAME=fshs-kinetic $ export ROS_MASTER_URI=http://shansurobotics:11311 \u6216\u8005\u5c06\u5176\u5199\u5165\u81f3\u811a\u6b65\u6587\u4ef6\u4e2d\uff0c\u7136\u540e\u901a\u8fc7source\u6307\u4ee4\u6765\u5bfc\u5165\u73af\u5883\u53d8\u91cf\uff0c\u65b9\u4fbf\u4f7f\u7528\u3002 Note \u7531\u4e8e\u914d\u7f6e\u5206\u5e03\u5f0f\u540e\uff0c\u8bb2\u65e0\u6cd5\u4e0e\u672c\u673a\u7684ROS\u7a0b\u5e8f\u901a\u8baf\uff0c\u56e0\u6b64\u4e0d\u5efa\u8bae\u5c06\u73af\u5883\u53d8\u91cf\u76f4\u63a5\u5199\u5165\u81f3.bashrc\u6587\u4ef6\u4e2d","title":"\u5206\u5e03\u5f0f\u914d\u7f6e"},{"location":"chm/agv_chm/#_4","text":"\u5728\u5b8c\u6210\u4e0a\u8ff0\u7684\u57fa\u7840\u73af\u5883\u914d\u7f6e\u540e\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u6211\u4eec\u7684\u57fa\u7840\u4f7f\u7528\u6559\u7a0b\u4e86\u3002","title":"\u57fa\u7840\u6559\u7a0b"},{"location":"chm/agv_chm/#_5","text":"\u4e0d\u7ba1\u5728\u8fdb\u884c\u5e95\u76d8\u5bfc\u822a\u8fd8\u662f\u79fb\u52a8\u7269\u4f53\u6293\u53d6\u65f6\uff0c\u9996\u5148\u90fd\u9700\u8981\u5c06\u73af\u5883\u7684\u5730\u56fe\u6784\u5efa\u51fa\u6765\u3002 $ ssh shansu@192.168.99.30 #\u767b\u5f55\u5e95\u76d8 $ roslaunch ir100_navigation ir100_gmapping.launch \u5728\u5efa\u56fe\u8fc7\u7a0b\u4e2d\uff0c\u53ef\u4ee5\u5728\u672c\u673a\u4e0a\u53ef\u89c6\u5316\u5efa\u56fe\u8fc7\u7a0b $ roslaunch hsr_bringup view_nav.launch #\u8be5\u6307\u4ee4\u5728\u672c\u673a\u4e0a\u6267\u884c \u6267\u884c\u5b8c\u4e0a\u8ff0\u6307\u4ee4\u540e\uff0c\u79fb\u52a8\u5e95\u76d8\u4fbf\u5df2\u7ecf\u5f00\u59cb\u5efa\u56fe\u4e86\uff0c\u8fd9\u65f6\u53ef\u4ee5\u901a\u8fc7\u64cd\u63a7\u624b\u67c4\u6765\u63a7\u5236\u5e95\u76d8\u8d70\u4e00\u5708\u9700\u8981\u88ab\u6784\u5efa\u7684\u73af\u5883\u3002 Note \u5728\u6784\u5efa\u5730\u56fe\u7684\u65f6\u5019\uff0c\u4eba\u5e94\u5f53\u7ad9\u5728\u79fb\u52a8\u5e95\u76d8\u7684\u540e\u65b9\u6765\u63a7\u5236\u79fb\u52a8\u5e95\u76d8\u8fd0\u52a8\u3002\u4e14\u5c3d\u91cf\u907f\u514d\u5f27\u5f62\u7684\u8fd0\u52a8\uff0c\u9700\u8981\u8f6c\u5411\u65f6\u6700\u597d\u5148\u8bb2\u79fb\u52a8\u5e95\u76d8\u505c\u6b62\u4e0b\u6765\u5728\u8fdb\u884c\u65cb\u8f6c \u5f53\u5df2\u7ecf\u63a7\u5236\u79fb\u52a8\u5e95\u76d8\u7ed5\u73af\u5883\u8d70\u4e00\u5708\u540e\u5c31\u53ef\u4ee5\u4fdd\u5b58\u5730\u56fe\u4e86\u3002 \u8fd9\u65f6\u5148\u4e0d\u8981\u5173\u95ed\u5efa\u56fe\u7a0b\u5e8f \uff0c\u65b0\u5f00\u4e00\u4e2a\u7ec8\u7aef\u6267\u884c\u4ee5\u4e0b\u6307\u4ee4 $ ssh shansu@192.168.99.30 #\u767b\u5f55\u5e95\u76d8 $ rosrun map_server map_saver -f ~/work/maps/test_map #\u4fdd\u5b58\u5730\u56fe\u81f3~/work/maps/\u76ee\u5f55\uff0c\u5730\u56fe\u540d\u79f0\u4e3atest_map Note \u5f53\u4fdd\u5b58\u5b8c\u5730\u56fe\u540e\u518d\u8bb2\u5efa\u56fe\u7a0b\u5e8f\u5173\u95ed","title":"\u5efa\u56fe"},{"location":"chm/agv_chm/#_6","text":"\u5728\u5c06\u5730\u56fe\u6784\u5efa\u5b8c\u6210\u540e\u4fbf\u53ef\u8fdb\u884c\u5bfc\u822a\u5b9e\u9a8c\u3002 1\uff0c\u5728\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668\u4e0a\u542f\u52a8\u5bfc\u822a\u7a0b\u5e8f $ ssh shansu@192.168.99.30 #\u767b\u5f55\u5e95\u76d8 $ roslaunch ir100_navigation ir100_navigation.launch 2\uff0c\u5728\u672c\u673a\u4e0a\u53ef\u89c6\u5316\u5bfc\u822a\u8fc7\u7a0b $ roslaunch hsr_bringup view_nav.launch 3\uff0c\u7ed9\u5b9a\u673a\u5668\u4eba\u7684\u521d\u59cb\u4f4d\u7f6e \u70b9\u51fb2D Pose Estimate\u5de5\u5177\uff0c\u5728\u5730\u56fe\u4e0a\u6807\u8bb0\u5f53\u524d\u5b9e\u9645\u673a\u5668\u4eba\u5728\u5730\u56fe\u4e0a\u7684\u4f4d\u7f6e 4\uff0c\u66f4\u65b0\u673a\u5668\u4eba\u5b9a\u4f4d \u5728\u7ed9\u5b9a\u673a\u5668\u4eba\u7684\u521d\u59cb\u4f4d\u7f6e\u540e\uff0c\u53ef\u80fd\u4f1a\u6709\u504f\u5dee\uff0c\u53ef\u4ee5\u901a\u8fc7\u4e0b\u9762\u7684\u6307\u4ee4\u6765\u66f4\u65b0\u8fed\u4ee3\u673a\u5668\u4eba\u7684\u5b9a\u4f4d $ rosservice call /request_nomotion_update Note \u53ef\u4ee5\u591a\u6b21\u6267\u884c\u76f4\u5230\u673a\u5668\u4eba\u5b9a\u4f4d\u8f83\u4e3a\u7cbe\u786e\u540e\u3002 5\uff0c\u7ed9\u5b9a\u76ee\u6807\u70b9 \u5728\u7ed9\u5b9a\u548c\u66f4\u65b0\u673a\u5668\u4eba\u7684\u521d\u59cb\u4f4d\u7f6e\u540e\uff0c\u4fbf\u53ef\u4ee5\u4e3a\u673a\u5668\u4eba\u6307\u5b9a\u76ee\u6807\u70b9\uff0c\u6765\u8ba9\u673a\u5668\u4eba\u5bfc\u822a\u81f3\u76ee\u6807\u70b9\u3002 \u70b9\u51fbRVIZ\u4e2d\u76842D Nav Goal\u5de5\u5177\uff0c\u5728\u5730\u56fe\u4e0a\u6807\u8bb0\u4e00\u4e2a\u76ee\u6807\u70b9\u3002\u6807\u8bb0\u540e\uff0c\u673a\u5668\u4eba\u4fbf\u4f1a\u5f00\u59cb\u8fd0\u52a8\u3002","title":"\u5bfc\u822a"},{"location":"chm/agv_chm/#_7","text":"\u4e3a\u4e86\u8fdb\u884c\u79fb\u52a8\u6293\u53d6\u5e94\u7528\uff0c\u6211\u4eec\u9700\u8981\u5728\u5730\u56fe\u4e0a\u521b\u5efa\u6807\u8bb0\u6765\u534f\u52a9\u8fdb\u884c\u79fb\u52a8\u6293\u53d6\u3002 \u5728\u5bfc\u822a\u7a0b\u5e8f\u6ca1\u6709\u5173\u95ed\u7684\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528RVIZ\u4e2d\u7684map flag\u5de5\u5177\u6765\u5bf9\u5730\u56fe\u8fdb\u884c\u6807\u8bb0\u3002 1\uff0c\u70b9\u51fbRVIZ\u83dc\u5355\u680f\u4e2d\u7684Panels -> Add New Panels\uff0c\u9009\u62e9rviz_map_tool\u4e0b\u7684FlagManager\uff1b 2\uff0c\u70b9\u51fb\u5de5\u5177\u680f\u4e2d\u7684\uff0b\uff0c\u9009\u62e9\u6dfb\u52a0rviz_map_tool\u4e0b\u7684MapFlag\uff1b 3\uff0c\u9009\u62e9\u5de5\u5177\u680f\u4e2d\u7684Map Flag\u5de5\u5177\uff0c\u7136\u540e\u518d\u5730\u56fe\u4e0a\u6807\u8bb0\u7b2c\u4e00\u4e2a\u6807\u8bb0\u70b9\u3002\uff08\u5bf9\u5e94\u7269\u7406\u4e16\u754c\u7684\u684c\u5b50\u5904\uff09 4\uff0c\u5728FlagManager\u7a97\u53e3\u4e2d\uff0cMap\u540d\u79f0\u8bbe\u7f6e\u4e3ademo\uff0cFlag\u540d\u79f0\u8bbe\u7f6e\u4e3atable\uff0c\u5e76\u70b9\u51fbAdd Flag\u6309\u94ae 5\uff0c\u6309\u7167\u7b2c3\u30014\u6b65\uff0c\u6dfb\u52a0\u591a\u4e00\u4e2a\u6807\u8bb0\u70b9\uff08\u5bf9\u5e94\u7269\u7406\u4e16\u754c\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\u7a7a\u65f7\u5904\uff09\uff0c\u5e76\u5c06\u5176Flag\u540d\u79f0\u8bbe\u7f6e\u4e3ahome\uff0c\u5e76\u6dfb\u52a0\u3002 \u5728\u521b\u5efa\u5b8cflag\u540e\uff0c\u9700\u8981\u5c06flag\u4fe1\u606f\u4e0b\u8f7d\u5230\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668\u4e2d\uff0c\u6307\u4ee4\u5982\u4e0b $ scp -r ~/.hirop/data/MAP/demo/ shansu@192.168.99.30:~/.hirop/data/MAP/demo","title":"\u521b\u5efa\u5730\u56fe\u6807\u8bb0"},{"location":"chm/agv_chm/#_8","text":"","title":"\u6d4b\u8bd5\u79fb\u52a8\u6293\u53d6\u5e94\u7528"},{"location":"chm/agv_chm/#_9","text":"","title":"\u5728\u638c\u63e1\u4e0a\u8ff0\u7684\u57fa\u7840\u6559\u7a0b\u540e\uff0c\u5c31\u53ef\u4ee5\u5f00\u59cb\u5b66\u4e60\u5982\u4f55\u4f7f\u7528\u79fb\u52a8\u6293\u53d6\u5e94\u7528\u4e86\u3002"},{"location":"chm/agv_chm/#_10","text":"\u8be5\u5e94\u7528\u542f\u52a8\u540e\uff0c\u590d\u5408\u673a\u5668\u4eba\u4f1a\u81ea\u52a8\u5bfc\u822a\u81f3\u684c\u5b50\u524d\u65b9\u3002\u7136\u540e\u4f7f\u7528\u624b\u773c\u76f8\u673a\u8bc6\u522b\u684c\u9762\u4e0a\u7684\u725b\u5976\u76d2\uff0c\u5e76\u4e14\u5c06\u725b\u5976\u76d2\u6293\u53d6\u653e\u7f6e\u5728\u79fb\u52a8\u5730\u76d8\u4e0a\u3002 \u5f53\u684c\u9762\u4e0a\u7684\u6240\u6709\u725b\u5976\u76d2\u90fd\u88ab\u6293\u53d6\u653e\u7f6e\u540e\uff0c\u590d\u5408\u673a\u5668\u4eba\u4fbf\u4f1a\u5bfc\u822a\u56de\u5230home\u70b9\u3002","title":"\u5e94\u7528\u4ecb\u7ecd"},{"location":"chm/agv_chm/#_11","text":"1\uff0c\u542f\u52a8\u4f9d\u8d56\u73af\u5883 $ ssh shansu@192.168.99.30 #\u767b\u5f55\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668 $ roslaunch hsr_agv_bringup move_pick_app_go.launch 2\uff0c\u542f\u52a8\u611f\u77e5\u6a21\u5757 \u65b0\u5efa\u4e00\u4e2a\u7ec8\u7aef $ ssh shansu@192.168.99.30 #\u767b\u5f55\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668 $ rosrun perception_bridge perception_bridge.py 3\uff0c\u521d\u59cb\u5316 \u65b0\u5efa\u4e00\u4e2a\u7ec8\u7aef $ rosservice call /set_robot_enable true #\u7ed9\u673a\u68b0\u81c2\u4e0a\u4f7f\u80fd $ rosservice call /serial_open /dev/ttyUSB0 115200 #\u8bbe\u7f6e\u5939\u722a\u7684\u4e32\u53e3\u53f7\u53ca\u6ce2\u7279\u7387 $ rosservice call /set_pick_place_vel_acc 0.3 0.05 #\u8bbe\u7f6e\u6293\u53d6\u65f6\u673a\u68b0\u81c2\u7684\u901f\u5ea6\u548c\u52a0\u901f\u5ea6 4, \u5b9a\u4f4d \u53c2\u8003\u5bfc\u822a\u5c0f\u8282\u4e2d\u4e3a\u673a\u5668\u4eba\u6307\u5b9a\u521d\u59cb\u4f4d\u59ff\u7684\u6765\u6307\u5b9a\u5f53\u524d\u673a\u5668\u4eba\u5728\u5b9e\u9645\u73af\u5883\u4e2d\u7684\u4f4d\u7f6e\u3002 5\uff0c\u542f\u52a8\u5e94\u7528 \u65b0\u5efa\u4e00\u4e2a\u7ec8\u7aef $ ssh shansu@192.168.99.30 #\u767b\u5f55\u590d\u5408\u673a\u5668\u4eba\u63a7\u5236\u5668 $ rosrun app_move_pick app_move_pick $ # \u952e\u51657\uff0c\u6267\u884c\u8fde\u7eed\u6293\u53d6","title":"\u542f\u52a8\u73af\u5883"},{"location":"chm/agv_chm/#_12","text":"\u5728\u4f7f\u7528\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u662f\u4e25\u683c\u6309\u7167\u4e0a\u8ff0\u6559\u7a0b\u8fdb\u884c\u5b9e\u9a8c\u5219\u65e0\u987b\u4fee\u6539\u76f8\u5173\u53c2\u6570\u3002\u4f46\u5982\u679c\u4fee\u6539\u4e86\u76f8\u5173\u540d\u79f0\u6216\u8005\u6709\u7279\u6b8a\u9700\u6c42\uff0c\u5219\u9700\u8981\u4fee\u6539\u76f8\u5173\u53c2\u6570\u6765\u8fdb\u884c\u9002\u914d\u3002 Note \u5b66\u4e60\u4fee\u6539\u76f8\u5173\u7684\u53c2\u6570\u4e5f\u6709\u52a9\u4e0e\u7406\u89e3\u5e94\u7528\u7684\u539f\u7406 1\uff0c\u4fee\u6539\u5730\u56fe\u540d\u79f0\uff1a\u67e5\u770b\u548c\u4fee\u6539hsr_agv_bringup move_pick_app_go.launch 2\uff0c\u4fee\u6539\u6807\u8bb0\u5730\u56fe\u540d\u79f0\uff1a\u4fee\u6539app_move_pick\u4e2d\u7684auto_move_pick.cpp\u7684\u7b2c20\u884c 3\uff0c\u4fee\u6539\u7269\u4f53\u653e\u7f6e\u7684\u4f4d\u59ff\uff1a\u4fee\u6539app_move_pick\u4e2d\u7684auto_move_pick.cpp\u4e2d\u7684initPlace\u51fd\u6570\u3002","title":"\u53c2\u6570\u4fee\u6539"},{"location":"dpm/","text":"\u5f00\u53d1\u6307\u5357 \u5f00\u53d1\u6307\u5357\u4e3b\u8981\u5305\u542b HIROP \u5e73\u53f0\u6a21\u5757\u5f00\u53d1\u7f16\u7a0b\u6307\u5357\u53ca ROS \u76f8\u5173\u7ec4\u4ef6\u7684\u7f16\u7a0b\u6307\u5357\u3002 \u6307\u5357\u5217\u8868 Moveit \u7f16\u7a0b\u6307\u5357 HPlugin \u7f16\u7a0b\u6307\u5357 Vision\u6a21\u5757\u7f16\u7a0b\u6307\u5357 \u611f\u77e5\u6a21\u5757\u7f16\u7a0b\u6307\u5357","title":"\u5e8f"},{"location":"dpm/#_1","text":"\u5f00\u53d1\u6307\u5357\u4e3b\u8981\u5305\u542b HIROP \u5e73\u53f0\u6a21\u5757\u5f00\u53d1\u7f16\u7a0b\u6307\u5357\u53ca ROS \u76f8\u5173\u7ec4\u4ef6\u7684\u7f16\u7a0b\u6307\u5357\u3002","title":"\u5f00\u53d1\u6307\u5357"},{"location":"dpm/#_2","text":"Moveit \u7f16\u7a0b\u6307\u5357 HPlugin \u7f16\u7a0b\u6307\u5357 Vision\u6a21\u5757\u7f16\u7a0b\u6307\u5357 \u611f\u77e5\u6a21\u5757\u7f16\u7a0b\u6307\u5357","title":"\u6307\u5357\u5217\u8868"},{"location":"dpm/hplugin_guide/","text":"HPlugin\u63d2\u4ef6\u5f00\u53d1\u6307\u5357 HPlugin\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u63d2\u4ef6\u6a21\u5757\uff0c\u53ef\u4f9d\u8d56HPlugin\u6846\u67b6\u8fc5\u901f\u4e3a\u5de5\u7a0b\u5b9e\u73b0\u63d2\u4ef6\u5316\u3002 \u7f16\u8bd1\u5b89\u88c5 $ mkdir build; cd build $ qmake ./ $ make ; make install \u5236\u4f5c\u63d2\u4ef6 \u58f0\u660e\u63d2\u4ef6\u63a5\u53e3 \u5728\u63a5\u53e3\u7684\u5b9a\u4e49\u5934\u6587\u4ef6\u4e2d\u4f7f\u7528H_DECLARE_INTERFACE\u5b8f\u6765\u58f0\u660e\u4e00\u4e2a\u63a5\u53e3\u3002 class ISimaplePlugin{ public: virtual int SayHi(std::string name) = 0; }; H_DECLARE_INTERFACE(ISimaplePlugin,\"ISimaplePlugin/v1.0\") Note \u5982\u679c\u63a5\u53e3\u5904\u4e8e\u67d0\u4e2a\u547d\u540d\u7a7a\u95f4\u4e2d\uff0c\u90a3\u4e48\u8be5\u5b8f\u5e94\u5f53\u5728\u547d\u540d\u7a7a\u95f4\u5916\u90e8\u4f7f\u7528\u3002 H_DECLARE_INTERFACE(namespace::ISimaplePlugin,\"ISimaplePlugin/v1.0\") \u58f0\u660e\u63d2\u4ef6 \u63d2\u4ef6\u90fd\u662f\u7ee7\u627f\u4e8e\u63a5\u53e3\u7684\uff0c\u5047\u5982\u6211\u4eec\u6709\u63d2\u4ef6A\uff0c\u5176\u7c7b\u540d\u4e3a SimaplePluginA \uff0c\u5176\u7ee7\u627f\u4e8e ISimaplePlugin \u3002 \u90a3\u4e48\u5728\u5b9a\u4e49\u63d2\u4ef6\u7c7b\u7684\u5934\u6587\u4ef6\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528 H_DECLARE_PLUGIN \u5b8f\u6765\u58f0\u660e\u4e00\u4e2a\u63d2\u4ef6\uff0c\u5176\u4e2d\u5b8f\u7684\u53c2\u6570\u662f\u8868\u660e\u8be5\u63d2\u4ef6\u5f0f\u57fa\u4e8e\u54ea\u4e2a\u63a5\u53e3\u7684\u3002 class SimaplePluginA:public ISimaplePlugin{ public: SimaplePluginA(); int SayHi(std::string name); }; H_DECLARE_PLUGIN(ISimaplePlugin) \u5bfc\u51fa\u63d2\u4ef6 \u7ecf\u8fc7\u4e0a\u9762\u7684\u4e24\u6b65\uff0c\u5b9a\u4e49\u63a5\u53e3\u548c\u5b9a\u4e49\u63d2\u4ef6\u3002\u90a3\u4e48\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u9700\u8981\u7ed9\u6211\u4eec\u5b9a\u4e49\u7684\u63d2\u4ef6\u8fdb\u884c\u5b9e\u73b0\u548c\u5bfc\u51fa\uff0c\u53ea\u6709\u5bfc\u51fa\u540e\u7684\u63d2\u4ef6\uff0c\u624d\u80fd\u88ab\u63d2\u4ef6\u7cfb\u7edf\u6240\u52a0\u8f7d\u3002 \u56e0\u6b64\uff0c\u5728\u63d2\u4ef6\u7684\u5b9e\u73b0\u6587\u4ef6\u4e2d\uff0c\u6211\u4eec\u5e94\u5f53\u4f7f\u7528 H_EXPORT_PLUGIN \u5b8f\u6765\u5bfc\u51fa\u4e00\u4e2a\u63d2\u4ef6\u3002 SimaplePluginA::SimaplePluginA(){ std::cout << \"SimaplePluginA init\" << std::endl; } int SimaplePluginA::SayHi(std::string name){ std::cout << \"SimaplePluginA say = \" << name << \" lol\" << std::endl; return 0; } H_EXPORT_PLUGIN(SimaplePluginA, \"SimaplePluginA\", \"1.0\") \u5176\u4e2d\u5b8f H_EXPORT_PLUGIN \u6709\u4e09\u4e2a\u53c2\u6570 * \u58f0\u660e\u8981\u5bfc\u51fa\u7684\u63d2\u4ef6\u7c7b * \u58f0\u660e\u5bfc\u51fa\u63d2\u4ef6\u7684\u540d\u79f0 '\u9700\u8981\u548c\u4e0a\u4e00\u4e2a\u53c2\u6570\u4e00\u81f4' * \u58f0\u660e\u5bfc\u51fa\u63d2\u4ef6\u7684\u7248\u672c Note \u5728\u5de5\u7a0b\u914d\u7f6e\u4e2d\uff0c\u5e94\u5f53\u6ce8\u610f\u751f\u6210\u7684\u63d2\u4ef6\u52a8\u6001\u5e93\u7684\u540d\u79f0\u4e3a\"lib\"+\u63d2\u4ef6\u7c7b\u540d+\".so\"\u3002\u5982\uff1a\u63d2\u4ef6\u540d\u4e3a SimaplePluginA \uff0c\u5219\u5176\u52a8\u6001\u5e93\u540d\u79f0\u4e3a libSimaplePluginA.so \u8c03\u7528\u63d2\u4ef6 \u63d2\u4ef6\u52a0\u8f7d\u5668 \u4e3a\u4e86\u52a0\u8f7d\u63d2\u4ef6\uff0c\u6211\u4eec\u9700\u8981\u5728\u6211\u4eec\u7684\u4f7f\u7528\u63d2\u4ef6\u7cfb\u7edf\u7684\u7a0b\u5e8f\u4e0a\uff0c\u83b7\u53d6\u6211\u4eec\u7684\u63d2\u4ef6\u52a0\u8f7d\u5668\u3002 int main(){ HPluginLoader *loader loader = HPluginLoader::getLoader(); } \u901a\u8fc7HPluginLoader::getLoader()\u51fd\u6570\uff0c\u6765\u83b7\u53d6\u5f53\u524d\u7cfb\u7edf\u7684\u63d2\u4ef6\u52a0\u8f7d\u5668\u6307\u9488\u3002 \u5728\u52a0\u8f7d\u5b8c\u63d2\u4ef6\u52a0\u8f7d\u5668\u540e\uff0c\u6211\u4eec\u9700\u8981\u4e3a\u63d2\u4ef6\u52a0\u8f7d\u5668\u6307\u5b9a\uff0c\u63d2\u4ef6\u7684\u52a0\u8f7d\u8def\u5f84\uff0c\u800c\u8fd9\u4e00\u52a8\u4f5c\u6211\u4eec\u901a\u8fc7 loader->setPath(\"./\"); \u8fd9\u4e00\u51fd\u6570\u6765\u6307\u5b9a\uff0c\u5982\u679c\u4f20\u9012\u7684\u8def\u5f84\u4e3a\u7a7a\uff0c\u90a3\u4e48\u63d2\u4ef6\u52a0\u8f7d\u5668\u4fbf\u4f1a\u901a\u8fc7LD_LIBRARY_PATH\u73af\u5883\u53d8\u91cf\u6765\u641c\u7d22\u76f8\u5173\u7684\u5e93\u3002 \u52a0\u8f7d\u63d2\u4ef6 \u83b7\u53d6\u5b8c\u63d2\u4ef6\u52a0\u8f7d\u5668\u548c\u8bbe\u7f6e\u76f8\u5173\u8def\u5f84\u540e\uff0c\u4fbf\u53ef\u4ee5\u901a\u8fc7\u63d2\u4ef6\u52a0\u8f7d\u5668\u6765\u52a0\u8f7d\u76f8\u5173\u7684\u63d2\u4ef6\u4e86\u3002\u6211\u4eec\u901a\u8fc7\u4e00\u4e2aHplugin\u6765\u63cf\u8ff0\u4e00\u4e2a\u63d2\u4ef6\u3002 HPlugin *p; p = loader->load(\"SimaplePluginA\"); if(!p){ cout << \"load plugin error\" << endl; return -1; } \u5f53\u6211\u4eec\u901a\u8fc7load\u51fd\u6570\u52a0\u8f7d\u63d2\u4ef6\u5931\u8d25\u65f6\uff0c\u5b83\u5c06\u4f1a\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6307\u9488\u3002\u5f00\u53d1\u8005\u5f88\u6709\u5fc5\u8981\u5bf9\u8be5\u503c\u8fdb\u884c\u5224\u65ad\u3002 \u5b9e\u4f8b\u5316\u63d2\u4ef6 \u5728\u6211\u4eec\u901a\u8fc7\u4e0a\u9762\u51e0\u6b65\u540e\uff0c\u6211\u4eec\u62ff\u5230\u4e86\u4e00\u4e2a\u63d2\u4ef6\u5bf9\u8c61Hplgun\uff0c\u4f46\u662f\u8fd9\u4e2a\u63d2\u4ef6\u5bf9\u8c61\u4e2d\u5e76\u4e0d\u662f\u6211\u4eec\u771f\u6b63\u7684\u63d2\u4ef6\u7c7b\u7684\u6307\u9488\u3002 \u6211\u4eec\u8fd8\u9700\u8981\u5c06\u5176\u5b9e\u4f8b\u5316\u540e\uff0c\u624d\u80fd\u62ff\u5230\u63d2\u4ef6\u7684\u6307\u9488\u3002 ISimaplePlugin *pluginPtr; pluginPtr = p->instance<ISimaplePlugin>(); if(!pluginPtr){ cout << \"instance plugin error\" << endl; return -1; } \u6211\u4eec\u5c06\u901a\u8fc7 instance \u51fd\u6570\u6765\u83b7\u53d6\u4e00\u4e2a\u63d2\u4ef6\u7684\u5b9e\u4f8b\u6307\u9488\uff0c\u5b83\u662f\u4e00\u4e2a\u6a21\u677f\u51fd\u6570\uff0c\u9700\u8981\u6307\u660e\u8981\u5b9e\u4f8b\u5316\u7684\u63d2\u4ef6\u63a5\u53e3\u7c7b\u3002\u901a\u8fc7\u6a21\u677f\u51fd\u6570\u6765\u9632\u6b62\u5f00\u53d1\u8005\u5c06\u9519\u8bef\u7684\u5b9e\u4f8b\u8d4b\u503c\u7ed9\u63d2\u4ef6\u3002 \u5982\u679c\u901a\u8fc7instance\u83b7\u53d6\u5b9e\u4f8b\u5316\u63d2\u4ef6\u5931\u8d25\uff08\u7c7b\u578b\u9519\u8bef\u6216\u5176\u4ed6\u539f\u56e0\uff09\u65f6\uff0c\u5c06\u4f1a\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6307\u9488\u3002 \u6211\u4eec\u901a\u8fc7 instance \u83b7\u53d6\u5230\u63d2\u4ef6\u5b9e\u4f8b\u540e\uff0c\u4fbf\u53ef\u4ee5\u4f7f\u7528\u8be5\u5b9e\u4f8b\u6765\u4f7f\u7528\u63d2\u4ef6\u7684\u529f\u80fd\u4e86\u3002 pluginPtr->SayHi(\"FSHS\"); \u5f53\u4f7f\u7528\u5b8c\u63d2\u4ef6\u540e\uff0c\u6211\u4eec\u9700\u8981\u5c06\u63d2\u4ef6\u8fdb\u884c\u5378\u8f7d\u3002 loader->unload(p);","title":"Hplugin\u7f16\u7a0b\u6307\u5357"},{"location":"dpm/hplugin_guide/#hplugin","text":"HPlugin\u662f\u4e00\u4e2a\u8f7b\u91cf\u7ea7\u7684\u63d2\u4ef6\u6a21\u5757\uff0c\u53ef\u4f9d\u8d56HPlugin\u6846\u67b6\u8fc5\u901f\u4e3a\u5de5\u7a0b\u5b9e\u73b0\u63d2\u4ef6\u5316\u3002","title":"HPlugin\u63d2\u4ef6\u5f00\u53d1\u6307\u5357"},{"location":"dpm/hplugin_guide/#_1","text":"$ mkdir build; cd build $ qmake ./ $ make ; make install","title":"\u7f16\u8bd1\u5b89\u88c5"},{"location":"dpm/hplugin_guide/#_2","text":"","title":"\u5236\u4f5c\u63d2\u4ef6"},{"location":"dpm/hplugin_guide/#_3","text":"\u5728\u63a5\u53e3\u7684\u5b9a\u4e49\u5934\u6587\u4ef6\u4e2d\u4f7f\u7528H_DECLARE_INTERFACE\u5b8f\u6765\u58f0\u660e\u4e00\u4e2a\u63a5\u53e3\u3002 class ISimaplePlugin{ public: virtual int SayHi(std::string name) = 0; }; H_DECLARE_INTERFACE(ISimaplePlugin,\"ISimaplePlugin/v1.0\") Note \u5982\u679c\u63a5\u53e3\u5904\u4e8e\u67d0\u4e2a\u547d\u540d\u7a7a\u95f4\u4e2d\uff0c\u90a3\u4e48\u8be5\u5b8f\u5e94\u5f53\u5728\u547d\u540d\u7a7a\u95f4\u5916\u90e8\u4f7f\u7528\u3002 H_DECLARE_INTERFACE(namespace::ISimaplePlugin,\"ISimaplePlugin/v1.0\")","title":"\u58f0\u660e\u63d2\u4ef6\u63a5\u53e3"},{"location":"dpm/hplugin_guide/#_4","text":"\u63d2\u4ef6\u90fd\u662f\u7ee7\u627f\u4e8e\u63a5\u53e3\u7684\uff0c\u5047\u5982\u6211\u4eec\u6709\u63d2\u4ef6A\uff0c\u5176\u7c7b\u540d\u4e3a SimaplePluginA \uff0c\u5176\u7ee7\u627f\u4e8e ISimaplePlugin \u3002 \u90a3\u4e48\u5728\u5b9a\u4e49\u63d2\u4ef6\u7c7b\u7684\u5934\u6587\u4ef6\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u4f7f\u7528 H_DECLARE_PLUGIN \u5b8f\u6765\u58f0\u660e\u4e00\u4e2a\u63d2\u4ef6\uff0c\u5176\u4e2d\u5b8f\u7684\u53c2\u6570\u662f\u8868\u660e\u8be5\u63d2\u4ef6\u5f0f\u57fa\u4e8e\u54ea\u4e2a\u63a5\u53e3\u7684\u3002 class SimaplePluginA:public ISimaplePlugin{ public: SimaplePluginA(); int SayHi(std::string name); }; H_DECLARE_PLUGIN(ISimaplePlugin)","title":"\u58f0\u660e\u63d2\u4ef6"},{"location":"dpm/hplugin_guide/#_5","text":"\u7ecf\u8fc7\u4e0a\u9762\u7684\u4e24\u6b65\uff0c\u5b9a\u4e49\u63a5\u53e3\u548c\u5b9a\u4e49\u63d2\u4ef6\u3002\u90a3\u4e48\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c31\u9700\u8981\u7ed9\u6211\u4eec\u5b9a\u4e49\u7684\u63d2\u4ef6\u8fdb\u884c\u5b9e\u73b0\u548c\u5bfc\u51fa\uff0c\u53ea\u6709\u5bfc\u51fa\u540e\u7684\u63d2\u4ef6\uff0c\u624d\u80fd\u88ab\u63d2\u4ef6\u7cfb\u7edf\u6240\u52a0\u8f7d\u3002 \u56e0\u6b64\uff0c\u5728\u63d2\u4ef6\u7684\u5b9e\u73b0\u6587\u4ef6\u4e2d\uff0c\u6211\u4eec\u5e94\u5f53\u4f7f\u7528 H_EXPORT_PLUGIN \u5b8f\u6765\u5bfc\u51fa\u4e00\u4e2a\u63d2\u4ef6\u3002 SimaplePluginA::SimaplePluginA(){ std::cout << \"SimaplePluginA init\" << std::endl; } int SimaplePluginA::SayHi(std::string name){ std::cout << \"SimaplePluginA say = \" << name << \" lol\" << std::endl; return 0; } H_EXPORT_PLUGIN(SimaplePluginA, \"SimaplePluginA\", \"1.0\") \u5176\u4e2d\u5b8f H_EXPORT_PLUGIN \u6709\u4e09\u4e2a\u53c2\u6570 * \u58f0\u660e\u8981\u5bfc\u51fa\u7684\u63d2\u4ef6\u7c7b * \u58f0\u660e\u5bfc\u51fa\u63d2\u4ef6\u7684\u540d\u79f0 '\u9700\u8981\u548c\u4e0a\u4e00\u4e2a\u53c2\u6570\u4e00\u81f4' * \u58f0\u660e\u5bfc\u51fa\u63d2\u4ef6\u7684\u7248\u672c Note \u5728\u5de5\u7a0b\u914d\u7f6e\u4e2d\uff0c\u5e94\u5f53\u6ce8\u610f\u751f\u6210\u7684\u63d2\u4ef6\u52a8\u6001\u5e93\u7684\u540d\u79f0\u4e3a\"lib\"+\u63d2\u4ef6\u7c7b\u540d+\".so\"\u3002\u5982\uff1a\u63d2\u4ef6\u540d\u4e3a SimaplePluginA \uff0c\u5219\u5176\u52a8\u6001\u5e93\u540d\u79f0\u4e3a libSimaplePluginA.so","title":"\u5bfc\u51fa\u63d2\u4ef6"},{"location":"dpm/hplugin_guide/#_6","text":"","title":"\u8c03\u7528\u63d2\u4ef6"},{"location":"dpm/hplugin_guide/#_7","text":"\u4e3a\u4e86\u52a0\u8f7d\u63d2\u4ef6\uff0c\u6211\u4eec\u9700\u8981\u5728\u6211\u4eec\u7684\u4f7f\u7528\u63d2\u4ef6\u7cfb\u7edf\u7684\u7a0b\u5e8f\u4e0a\uff0c\u83b7\u53d6\u6211\u4eec\u7684\u63d2\u4ef6\u52a0\u8f7d\u5668\u3002 int main(){ HPluginLoader *loader loader = HPluginLoader::getLoader(); } \u901a\u8fc7HPluginLoader::getLoader()\u51fd\u6570\uff0c\u6765\u83b7\u53d6\u5f53\u524d\u7cfb\u7edf\u7684\u63d2\u4ef6\u52a0\u8f7d\u5668\u6307\u9488\u3002 \u5728\u52a0\u8f7d\u5b8c\u63d2\u4ef6\u52a0\u8f7d\u5668\u540e\uff0c\u6211\u4eec\u9700\u8981\u4e3a\u63d2\u4ef6\u52a0\u8f7d\u5668\u6307\u5b9a\uff0c\u63d2\u4ef6\u7684\u52a0\u8f7d\u8def\u5f84\uff0c\u800c\u8fd9\u4e00\u52a8\u4f5c\u6211\u4eec\u901a\u8fc7 loader->setPath(\"./\"); \u8fd9\u4e00\u51fd\u6570\u6765\u6307\u5b9a\uff0c\u5982\u679c\u4f20\u9012\u7684\u8def\u5f84\u4e3a\u7a7a\uff0c\u90a3\u4e48\u63d2\u4ef6\u52a0\u8f7d\u5668\u4fbf\u4f1a\u901a\u8fc7LD_LIBRARY_PATH\u73af\u5883\u53d8\u91cf\u6765\u641c\u7d22\u76f8\u5173\u7684\u5e93\u3002","title":"\u63d2\u4ef6\u52a0\u8f7d\u5668"},{"location":"dpm/hplugin_guide/#_8","text":"\u83b7\u53d6\u5b8c\u63d2\u4ef6\u52a0\u8f7d\u5668\u548c\u8bbe\u7f6e\u76f8\u5173\u8def\u5f84\u540e\uff0c\u4fbf\u53ef\u4ee5\u901a\u8fc7\u63d2\u4ef6\u52a0\u8f7d\u5668\u6765\u52a0\u8f7d\u76f8\u5173\u7684\u63d2\u4ef6\u4e86\u3002\u6211\u4eec\u901a\u8fc7\u4e00\u4e2aHplugin\u6765\u63cf\u8ff0\u4e00\u4e2a\u63d2\u4ef6\u3002 HPlugin *p; p = loader->load(\"SimaplePluginA\"); if(!p){ cout << \"load plugin error\" << endl; return -1; } \u5f53\u6211\u4eec\u901a\u8fc7load\u51fd\u6570\u52a0\u8f7d\u63d2\u4ef6\u5931\u8d25\u65f6\uff0c\u5b83\u5c06\u4f1a\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6307\u9488\u3002\u5f00\u53d1\u8005\u5f88\u6709\u5fc5\u8981\u5bf9\u8be5\u503c\u8fdb\u884c\u5224\u65ad\u3002","title":"\u52a0\u8f7d\u63d2\u4ef6"},{"location":"dpm/hplugin_guide/#_9","text":"\u5728\u6211\u4eec\u901a\u8fc7\u4e0a\u9762\u51e0\u6b65\u540e\uff0c\u6211\u4eec\u62ff\u5230\u4e86\u4e00\u4e2a\u63d2\u4ef6\u5bf9\u8c61Hplgun\uff0c\u4f46\u662f\u8fd9\u4e2a\u63d2\u4ef6\u5bf9\u8c61\u4e2d\u5e76\u4e0d\u662f\u6211\u4eec\u771f\u6b63\u7684\u63d2\u4ef6\u7c7b\u7684\u6307\u9488\u3002 \u6211\u4eec\u8fd8\u9700\u8981\u5c06\u5176\u5b9e\u4f8b\u5316\u540e\uff0c\u624d\u80fd\u62ff\u5230\u63d2\u4ef6\u7684\u6307\u9488\u3002 ISimaplePlugin *pluginPtr; pluginPtr = p->instance<ISimaplePlugin>(); if(!pluginPtr){ cout << \"instance plugin error\" << endl; return -1; } \u6211\u4eec\u5c06\u901a\u8fc7 instance \u51fd\u6570\u6765\u83b7\u53d6\u4e00\u4e2a\u63d2\u4ef6\u7684\u5b9e\u4f8b\u6307\u9488\uff0c\u5b83\u662f\u4e00\u4e2a\u6a21\u677f\u51fd\u6570\uff0c\u9700\u8981\u6307\u660e\u8981\u5b9e\u4f8b\u5316\u7684\u63d2\u4ef6\u63a5\u53e3\u7c7b\u3002\u901a\u8fc7\u6a21\u677f\u51fd\u6570\u6765\u9632\u6b62\u5f00\u53d1\u8005\u5c06\u9519\u8bef\u7684\u5b9e\u4f8b\u8d4b\u503c\u7ed9\u63d2\u4ef6\u3002 \u5982\u679c\u901a\u8fc7instance\u83b7\u53d6\u5b9e\u4f8b\u5316\u63d2\u4ef6\u5931\u8d25\uff08\u7c7b\u578b\u9519\u8bef\u6216\u5176\u4ed6\u539f\u56e0\uff09\u65f6\uff0c\u5c06\u4f1a\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6307\u9488\u3002 \u6211\u4eec\u901a\u8fc7 instance \u83b7\u53d6\u5230\u63d2\u4ef6\u5b9e\u4f8b\u540e\uff0c\u4fbf\u53ef\u4ee5\u4f7f\u7528\u8be5\u5b9e\u4f8b\u6765\u4f7f\u7528\u63d2\u4ef6\u7684\u529f\u80fd\u4e86\u3002 pluginPtr->SayHi(\"FSHS\"); \u5f53\u4f7f\u7528\u5b8c\u63d2\u4ef6\u540e\uff0c\u6211\u4eec\u9700\u8981\u5c06\u63d2\u4ef6\u8fdb\u884c\u5378\u8f7d\u3002 loader->unload(p);","title":"\u5b9e\u4f8b\u5316\u63d2\u4ef6"},{"location":"dpm/perception_guide/","text":"HIROP\u611f\u77e5\u6a21\u5757\u7f16\u7a0b\u6307\u5357 \u901a\u8fc7\u5b66\u4e60\u672c\u6307\u5357\u53ef\u4ee5\u638c\u63e1\u5982\u4f55\u5f00\u53d1\u4e00\u4e2aHIROP\u7684\u611f\u77e5\u6a21\u5757\u63d2\u4ef6\u3002 \u611f\u77e5\u6a21\u5757\u4ecb\u7ecd hirop perception\u6a21\u5757\u53ef\u4ee5\u4f7f\u6211\u4eec\u7684\u673a\u5668\u4eba\u5177\u6709\u611f\u77e5\u80fd\u529b\u3002 \u5728HIROP\u4e2d\uff0c\u5c06\u611f\u77e5\u5206\u4e3a\u4e24\u90e8\u5206\uff1a\u524d\u7aef\u548c\u540e\u7aef\u3002 \u5176\u4e2d\uff0c\u524d\u7aef\u6307\u901a\u8fc7\u5404\u79cd\u4f20\u611f\u5668\uff08\u5982\uff1a\u89c6\u89c9\u3001\u89e6\u89c9\u3001\u542c\u89c9\uff09\u53ca\u76f8\u5173\u5904\u7406\u7b97\u6cd5\uff08\u5982\uff1a\u8ba1\u7b97\u673a\u89c6\u89c9\u3001PCL\uff09\u4ee5\u5c3d\u91cf\u7cbe\u786e\u7684\u65b9\u5f0f\u8fdb\u884c\u73af\u5883\u5efa\u6a21\u3002 \u540e\u7aef\u6307\u7684\u662f\uff0c\u5f53\u901a\u8fc7\u524d\u7aef\u5c06\u73af\u5883\u5efa\u6a21\u540e\u7ecf\u8fc7\u4e00\u7cfb\u5217\u8bf8\u5982\u8bed\u4e49\u5206\u5272\u3001\u7269\u4f53\u8bc6\u522b\u3001\u7269\u4f53\u5206\u5272\u7b49\u65b9\u6cd5\u5c06\u7269\u7406\u4e16\u754c\u4ee5\u62bd\u8c61\u7684\u65b9\u5f0f\u8fdb\u884c\u8868\u8fbe\u3002 \u5f53\u524dHIROP\u7684\u611f\u77e5\u6a21\u5757\u4ec5\u5b9e\u73b0\u4e86\u201c\u524d\u7aef\u201d\u3002 \u611f\u77e5\u6a21\u5757\u7684\u6846\u67b6 \u611f\u77e5\u6a21\u5757\u91c7\u7528\u4e86\u5b9e\u73b0\u4e86\u7ba1\u9053\u6d41\u548c\u56fe\u8ba1\u7b97\u7684 ECTO \u4f5c\u4e3a\u4e3b\u6846\u67b6\u3002\u5176\u4e2d\u6709\u56db\u4e2a\u5173\u952e\u7684\u6982\u5ff5\uff1a\u6e90\uff08Source\uff09\u3001\u8fc7\u6ee4\u5668\uff08Filter\uff09\u3001\u53d1\u5e03\u5668\uff08Publisher\uff09\u3001\u56fe\uff08Graph\uff09\u3002 1\uff0c\u5f53\u6570\u636e\u4ece\u4f20\u611f\u5668\u4e2d\u8bfb\u51fa\u540e\uff0c\u4f1a\u6309\u987a\u5e8f\u6d41\u5411\u611f\u77e5\u6a21\u5757\u7684\u4e0d\u540c\u8fc7\u6ee4\u5668\uff08\u4ece\u4f20\u611f\u5668\u4e2d\u83b7\u53d6\u6570\u636e\u7684\u8fc7\u6ee4\u5668\u5c31\u662fSource\uff09\uff1b 2\uff0c\u5f53\u6570\u636e\u7ecf\u8fc7\u8fc7\u6ee4\u5668\u65f6\uff0c\u8fc7\u6ee4\u5668\u4f1a\u901a\u8fc7\u76f8\u5173\u76f8\u5173\u7b97\u6cd5\u5bf9\u6570\u636e\u8fdb\u884c\u4fee\u6539\uff08\u8fd9\u5c31\u662fFilter\u7684\u4f5c\u7528\uff09\uff1b 3\uff0c\u5f53\u6570\u636e\u6d41\u8fc7\u6240\u6709\u7684\u8fc7\u6ee4\u5668\u540e\uff0c\u4f1a\u901a\u8fc7\u4e00\u4e2a\u8fc7\u6ee4\u5668\u5c06\u6570\u636e\u53d1\u5e03\u51fa\u53bb\uff08\u53d1\u5e03\u6570\u636e\u7684\u7279\u6b8a\u8fc7\u6ee4\u5668\u5c31\u662fPublisher\uff09\uff1b 4\uff0c\u611f\u77e5\u6a21\u5757\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u968f\u610f\u7684\u8fde\u63a5\u76f8\u5173\u8fc7\u6ee4\u5668\u6765\u6784\u6210\u4e00\u4e2a\u56fe\uff08Graph\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u968f\u610f\u53d8\u5316\uff09\u3002 \u7b80\u5355\u7684Graph \u7f16\u7a0b Note \u5f53\u524d\u611f\u77e5\u6a21\u5757\u7684\u6240\u6709\u6570\u636e\u5747\u4e3a\u70b9\u4e91\uff0c\u4e0b\u9762\u7684\u6240\u6709\u6559\u7a0b\u5747\u4ee5\u7f16\u5199\u70b9\u4e91\u7684\u8fc7\u6ee4\u5668\u4e3a\u4f8b\u5b50\u3002 \u4e0b\u8f7d\u6e90\u7801 HIROP\u611f\u77e5\u6a21\u5757\u662f\u4f5c\u4e3aHIROP\u7684\u4e00\u4e2a\u5b50\u6a21\u5757\u5b58\u5728\uff0c\u56e0\u6b64\u9700\u8981\u4e0b\u8f7d\u5b8c\u6574\u7684HIROP\u5de5\u7a0b\u3002 $ git clone https://github.com/HSRobot/hirop.git $ cd hirop ; mkdir build; cd build $ cmake ../ $ make $ make install $ echo 'PYTHONPATH=/usr/local/lib/python2.7/dist-packages/hirop_perecption/:$PYTHONPATH' >> ~/.bashrc \u7f16\u5199\u8fc7\u6ee4\u5668 \u5728hirop/src/perception/filter/\u4e2d\u521b\u5efa\u8fc7\u6ee4\u5668\u7684\u6e90\u6587\u4ef6(myfilter.cpp)\u548c\u5934\u6587\u4ef6(myfilter.h)\u3002 myfilter.h #pragma once #include <ecto/ecto.hpp> #include <ecto_pcl/ecto_pcl.hpp> using ecto::tendrils; namespace hirop_perception{ class MyFilter{ public: /** * @brief MyFilter \u6784\u9020\u51fd\u6570 */ MyFilter(){} /** * \u6790\u6784\u51fd\u6570 */ ~MyFilter(){} /** * @brief \u5b9a\u4e49\u8fc7\u6ee4\u5668\u53c2\u6570 */ static void declare_params(tendrils& params); /** * @brief \u5b9a\u4e49\u8fc7\u6ee4\u5668\u8f93\u5165\u8f93\u51fa */ static void declare_io(const tendrils& params, tendrils& in, tendrils& out); /** * @brief \u8fc7\u6ee4\u5668\u7684\u8fc7\u6ee4\u5b9e\u73b0 */ template <typename Point> int process(const tendrils& inputs, const tendrils& outputs, boost::shared_ptr<const pcl::PointCloud<Point> >& input); /** * @brief \u8fc7\u6ee4\u5668\u7684\u914d\u7f6e */ void configure(const tendrils& params, const tendrils& inputs, const tendrils& outputs); private: float _z; }; } myfilter.cpp #include \"myfilter.h\" using namespace hirop_perception; void MyFilter::declare_params(tendrils& params){ params.declare<float>(\"Z\", \"The pointcolud vaild Z area\", 5); } void MyFilter::declare_io(const ecto::tendrils &params, ecto::tendrils &in, ecto::tendrils &out){ in.declare<ecto::pcl::PointCloud>(\"input\", \"The colud to filter\"); out.declare<ecto::pcl::PointCloud>(\"output\", \"The colud to out\"); } void MyFilter::configure(const ecto::tendrils &params, const ecto::tendrils &inputs, const ecto::tendrils &outputs){ _z = params.get<float>(\"Z\"); } template<typename Point> int MyFilter::process(const tendrils& inputs, const tendrils& outputs, boost::shared_ptr<const pcl::PointCloud<Point> >& input){ typename pcl::PointCloud<Point>::Ptr outPointCloud(new pcl::PointCloud<Point>); int size = input->points.size(); for(int i =0; i < size; i++){ if(input->points[i].z < _z) outPointCloud->points.push_back(cloud->points[i]); } outPointCloud->height = 1; outPointCloud->width = outPointCloud->points.size(); outputs.get<ecto::pcl::PointCloud>(\"output\") = ecto::pcl::PointCloud(outPointCloud); return ecto::OK; } ECTO_CELL(hirop_perception, ecto::pcl::PclCell<MyFilter>,\\ \"VoxelFilter\", \"The point cloud voxel filter\") \u4ee3\u7801\u89e3\u6790 \u5fc5\u8981\u7684\u5934\u6587\u4ef6 \u6211\u4eec\u9700\u8981\u5728filter.h\u4e2d\u5bfc\u5165\u5fc5\u8981\u7684\u5934\u6587\u4ef6 #include <ecto/ecto.hpp> #include <ecto_pcl/ecto_pcl.hpp> \u8fc7\u6ee4\u5668\u7684\u5173\u952e\u51fd\u6570 declare_params \u51fd\u6570\uff1a void MyFilter::declare_params(tendrils& params){ params.declare<float>(\"Z\", \"The pointcolud vaild Z area\", 5); } \u8be5\u51fd\u6570\u7528\u4e8e\u58f0\u660e\u8fc7\u6ee4\u5668\u7684\u53c2\u6570\u3002\u5728\u4e0b\u9762\u7684\u4ee3\u7801\u91cc\uff0c\u6211\u4eec\u58f0\u660e\u4e86MyFilter\u8fd9\u4e2a\u8fc7\u6ee4\u5668\u6709\u4e2a\u540d\u4e3a Z \uff0c\u7c7b\u578b\u4e3a float \u7684\u53c2\u6570\u3002\u7528\u4e8e\u914d\u7f6e\u8fc7\u6ee4\u5668\u5e94\u5f53\u8fc7\u6ee4\u4ec0\u4e48\u8303\u56f4\u4ee5\u5916\u7684\u6570\u636e\u3002 declare_io \u51fd\u6570\uff1a void MyFilter::declare_io(const ecto::tendrils &params, ecto::tendrils &in, ecto::tendrils &out){ in.declare<ecto::pcl::PointCloud>(\"input\", \"The colud to filter\"); out.declare<ecto::pcl::PointCloud>(\"output\", \"The colud to out\"); } \u8be5\u51fd\u6570\u7528\u4e8e\u58f0\u660e\u8fc7\u6ee4\u5668\u7684\u8f93\u5165\u548c\u8f93\u51fa\u3002\u6bcf\u4e2a\u8fc7\u6ee4\u5668\u5747\u6709\u8f93\u5165\u548c\u8f93\u51fa\u3002\u5728\u672c\u4f8b\u4e2d\u6211\u4eec\u6709\u4e00\u4e2a\u540d\u4e3a input \uff0c\u7c7b\u578b\u4e3a ecto::pcl::PointCloud \u7684\u8f93\u5165\uff0c\u7528\u4e8e\u4ece\u4e0a\u4e00\u7ea7\u8fc7\u6ee4\u5668\u4e2d\u4ecb\u7ecd\u70b9\u4e91\u3002 \u4ee5\u53ca\u4e00\u4e2a\u540d\u4e3a output \uff0c\u7c7b\u578b\u4e3a ecto::pcl::PointCloud \u7684\u8f93\u51fa\uff0c\u7528\u4e8e\u5c06\u70b9\u4e91\u8f93\u51fa\u5230\u4e0b\u4e00\u7ea7\u8fc7\u6ee4\u5668\u4e2d\u3002 configure \u51fd\u6570\uff1a void MyFilter::configure(const ecto::tendrils &params, const ecto::tendrils &inputs, const ecto::tendrils &outputs){ _z = params.get<float>(\"Z\"); } \u8be5\u51fd\u6570\u7684\u4f5c\u7528\u5728\u4e8e\uff1a\u5f53\u8fc7\u6ee4\u5668\u88ab\u521d\u59cb\u5316\u65f6\u6765\u5b8c\u6210\u8fc7\u6ee4\u5668\u5185\u90e8\u7684\u521d\u59cb\u5316\uff0c\u6bd4\u5982\u5904\u7406\u76f8\u5173\u53c2\u6570\u3002\u5728\u672c\u4f8b\u4e2d\uff0cconfigure\u51fd\u6570\u53ea\u662f\u5c06\u8fc7\u6ee4\u5668\u53c2\u6570 Z \u4fdd\u5b58\u8d77\u6765\u800c\u5df2\u3002 process \u51fd\u6570\uff1a template<typename Point> int MyFilter::process(const tendrils& inputs, const tendrils& outputs, boost::shared_ptr<const pcl::PointCloud<Point> >& input){ typename pcl::PointCloud<Point>::Ptr outPointCloud(new pcl::PointCloud<Point>); int size = input->points.size(); for(int i =0; i < size; i++){ if(input->points[i].z < _z) outPointCloud->points.push_back(cloud->points[i]); } outPointCloud->height = 1; outPointCloud->width = outPointCloud->points.size(); outputs.get<ecto::pcl::PointCloud>(\"output\") = ecto::pcl::PointCloud(outPointCloud); return ecto::OK; } \u6574\u4e2a\u8fc7\u6ee4\u5668\u6700\u91cd\u8981\u7684\u51fd\u6570\uff0c\u7528\u4e8e\u5bf9\u6570\u636e\u8fdb\u884c\u5904\u7406\u3002\u5728\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u53ea\u662f\u7b80\u5355\u7684\u5c06Z\u8f74\u5927\u4e8e _z \u7684\u70b9\u4e91\u7ed9\u4e22\u5f03\u3002\u7136\u540e\u901a\u8fc7\u4e0b\u9762\u7684\u4e24\u884c\u4ee3\u7801\u5c06\u8fc7\u6ee4\u540e\u7684\u70b9\u4e91\u8f93\u51fa\u81f3\u4e0b\u4e00\u7ea7\u8fc7\u6ee4\u5668\u4e2d\u3002 outputs.get<ecto::pcl::PointCloud>(\"output\") = ecto::pcl::PointCloud(outPointCloud); return ecto::OK; \u5bfc\u51fa\u8fc7\u6ee4\u5668 \u6700\u540e\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u5bfc\u51fa\u6211\u4eec\u521a\u521a\u5b8c\u6210\u7684\u8fc7\u6ee4\u5668\u3002 ECTO_CELL(hirop_perception, ecto::pcl::PclCell<MyFilter>,\\ \"MyFilter\", \"My first filter\") ECTO_CELL \u5b8f\u7684\u53c2\u6570\u63cf\u8ff0\uff1a - hirop_perception\uff1a\u751f\u6210\u7684\u611f\u77e5\u6a21\u5757\u7684\u540d\u79f0 - ecto::pcl::PclCell \uff1a\u58f0\u660e\u5b9e\u4e60\u8fc7\u6ee4\u5668\u529f\u80fd\u7684\u7c7b - \"MyFilter\"\uff1a\u8fc7\u6ee4\u5668\u7684\u540d\u79f0 - \"My first filter\"\uff1a\u8fc7\u6ee4\u5668\u7684\u63cf\u8ff0 \u914d\u7f6e\u5de5\u7a0b \u5728\u5b8c\u6210\u4ee3\u7801\u7684\u7f16\u5199\u540e\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u914d\u7f6e\u76f8\u5173\u7684\u5de5\u7a0b\u6765\u5c06\u6211\u4eec\u7684\u8fc7\u6ee4\u5668\u7f16\u8bd1\u3002 \u5728hirop/src/perception/filter/CMakeLists.txt\u7684ectomodule\u51fd\u6570\u524d\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801 SET(SOURCES ${SOURCES} myfilter.cpp) \u7f16\u8bd1\u5de5\u7a0b $ cd hirop/build $ make $ sudo make install \u6d4b\u8bd5\u8fc7\u6ee4\u5668 \u5728\u5b8c\u6210\u4e0a\u8ff0\u7684\u6559\u7a0b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6765\u6d4b\u8bd5\u4e0b\u6211\u4eec\u7684\u8fc7\u6ee4\u5668\uff0c\u770b\u770b\u5176\u662f\u5426\u6709\u6548\u3002\u9996\u5148\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2apython\u6587\u4ef6:perception_test.py\uff0c\u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a #!/usr/bin/env python # -*- coding: utf-8 -*- import hirop_perception import rospy import ecto, ecto_pcl, ecto_ros if __name__==\"__main__\": # \u521d\u59cb\u5316ROS\u8282\u70b9 ecto_ros.init(sys.argv, \"perception_test\") rospy.init_node('ros_test') # \u6784\u9020\u4e00\u4e2a\u4eceROS\u8bdd\u9898\u4e2d\u83b7\u53d6\u6570\u636e\u7684\u8fc7\u6ee4\u5668\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8fc7\u6ee4\u5668\u7684\u540d\u79f0\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u8bdd\u9898\u540d\u79f0\uff0c\u7b2c\u4e09\u4e2a\u662f\u5c06\u70b9\u4e91\u8f6c\u6362\u5230\u7684\u76ee\u6807\u5750\u6807\u7cfb rosSource = hirop_perception.PointCloudRos('source', topic_name=\"/camera/depth/points\", world_frame='base_link') # \u6784\u9020\u4e00\u4e2a\u5c06\u8fc7\u6ee4\u5668\u8f93\u51fa\u53d1\u5e03\u5230ROS\u8bdd\u9898\u7684\u8fc7\u6ee4\u5668\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8fc7\u6ee4\u5668\u7684\u540d\u79f0\uff0c\u7b2c\u4e8c\u53c2\u6570\u662f\u53d1\u5e03\u7684\u70b9\u4e91\u7684\u53c2\u8003\u5750\u6807\u7cfb publisher = hirop_perception.PointCloudPublish(\"publisher\", frame_id=\"base_link\") # \u6784\u9020\u4e00\u4e2a\u6211\u4eec\u521a\u521a\u5236\u4f5c\u7684\u81ea\u5df1\u7684\u8fc7\u6ee4\u5668\uff0c\u8bbe\u7f6e\u8fc7\u6ee4\u8ddd\u79bb\u4e3a2\u7c73 myFilter = hirop_perception.MyFilter('myFilter', Z=2) # \u6784\u9020\u4e00\u4e2a\u70b9\u4e91\u53ef\u89c6\u5316\u7a97\u53e3\u8fc7\u6ee4\u5668 pclViewer = ecto_pcl.CloudViewer(\"viewer\", window_name=\"PCD Viewer\") # \u58f0\u660e\u4e00\u4e2a\u8ba1\u7b97\u56fe testPlasm = ecto.Plasm() # \u5b9a\u4e49\u8ba1\u7b97\u56fe\u7684\u7ed3\u6784 testPlasm.connect(rosSource[\"output\"] >> self.myFilter[\"input\"], self.myFilter[\"output\"] >> self.pclViewer[\"input\"], self.pclFunsion[\"output\"] >> self.publisher[\"input\"]) # \u8fd0\u884c\u8ba1\u7b97\u56fe sched = ecto.Scheduler(lookPlasm) # \u8fdb\u5165ROS\u7684\u6d88\u606f\u5faa\u73af rospy.spin() \u76f4\u63a5\u8fd0\u884c\u811a\u672c\u540e\uff0c\u5728\u63a5\u6536\u5230\u70b9\u4e91\u7684\u65f6\u5019\u4f1a\u5f39\u51fa\u4e00\u4e2a\u7a97\u53e3\uff0c\u6b63\u5e38\u7684\u60c5\u51b5\u4e0b\u5e94\u8be5\u53ef\u4ee5\u770b\u5230Z\u5927\u4e8e2m\u7684\u70b9\u4e91\u5168\u90e8\u88ab\u8fc7\u6ee4\u6389\u4e86\u3002 \u5b8c\u6210 \u81f3\u6b64\uff0c\u6240\u6709\u6559\u7a0b\u5747\u5df2\u7ed3\u675f","title":"\u611f\u77e5\u6a21\u5757\u7f16\u7a0b\u6307\u5357"},{"location":"dpm/perception_guide/#hirop","text":"\u901a\u8fc7\u5b66\u4e60\u672c\u6307\u5357\u53ef\u4ee5\u638c\u63e1\u5982\u4f55\u5f00\u53d1\u4e00\u4e2aHIROP\u7684\u611f\u77e5\u6a21\u5757\u63d2\u4ef6\u3002","title":"HIROP\u611f\u77e5\u6a21\u5757\u7f16\u7a0b\u6307\u5357"},{"location":"dpm/perception_guide/#_1","text":"hirop perception\u6a21\u5757\u53ef\u4ee5\u4f7f\u6211\u4eec\u7684\u673a\u5668\u4eba\u5177\u6709\u611f\u77e5\u80fd\u529b\u3002 \u5728HIROP\u4e2d\uff0c\u5c06\u611f\u77e5\u5206\u4e3a\u4e24\u90e8\u5206\uff1a\u524d\u7aef\u548c\u540e\u7aef\u3002 \u5176\u4e2d\uff0c\u524d\u7aef\u6307\u901a\u8fc7\u5404\u79cd\u4f20\u611f\u5668\uff08\u5982\uff1a\u89c6\u89c9\u3001\u89e6\u89c9\u3001\u542c\u89c9\uff09\u53ca\u76f8\u5173\u5904\u7406\u7b97\u6cd5\uff08\u5982\uff1a\u8ba1\u7b97\u673a\u89c6\u89c9\u3001PCL\uff09\u4ee5\u5c3d\u91cf\u7cbe\u786e\u7684\u65b9\u5f0f\u8fdb\u884c\u73af\u5883\u5efa\u6a21\u3002 \u540e\u7aef\u6307\u7684\u662f\uff0c\u5f53\u901a\u8fc7\u524d\u7aef\u5c06\u73af\u5883\u5efa\u6a21\u540e\u7ecf\u8fc7\u4e00\u7cfb\u5217\u8bf8\u5982\u8bed\u4e49\u5206\u5272\u3001\u7269\u4f53\u8bc6\u522b\u3001\u7269\u4f53\u5206\u5272\u7b49\u65b9\u6cd5\u5c06\u7269\u7406\u4e16\u754c\u4ee5\u62bd\u8c61\u7684\u65b9\u5f0f\u8fdb\u884c\u8868\u8fbe\u3002 \u5f53\u524dHIROP\u7684\u611f\u77e5\u6a21\u5757\u4ec5\u5b9e\u73b0\u4e86\u201c\u524d\u7aef\u201d\u3002","title":"\u611f\u77e5\u6a21\u5757\u4ecb\u7ecd"},{"location":"dpm/perception_guide/#_2","text":"\u611f\u77e5\u6a21\u5757\u91c7\u7528\u4e86\u5b9e\u73b0\u4e86\u7ba1\u9053\u6d41\u548c\u56fe\u8ba1\u7b97\u7684 ECTO \u4f5c\u4e3a\u4e3b\u6846\u67b6\u3002\u5176\u4e2d\u6709\u56db\u4e2a\u5173\u952e\u7684\u6982\u5ff5\uff1a\u6e90\uff08Source\uff09\u3001\u8fc7\u6ee4\u5668\uff08Filter\uff09\u3001\u53d1\u5e03\u5668\uff08Publisher\uff09\u3001\u56fe\uff08Graph\uff09\u3002 1\uff0c\u5f53\u6570\u636e\u4ece\u4f20\u611f\u5668\u4e2d\u8bfb\u51fa\u540e\uff0c\u4f1a\u6309\u987a\u5e8f\u6d41\u5411\u611f\u77e5\u6a21\u5757\u7684\u4e0d\u540c\u8fc7\u6ee4\u5668\uff08\u4ece\u4f20\u611f\u5668\u4e2d\u83b7\u53d6\u6570\u636e\u7684\u8fc7\u6ee4\u5668\u5c31\u662fSource\uff09\uff1b 2\uff0c\u5f53\u6570\u636e\u7ecf\u8fc7\u8fc7\u6ee4\u5668\u65f6\uff0c\u8fc7\u6ee4\u5668\u4f1a\u901a\u8fc7\u76f8\u5173\u76f8\u5173\u7b97\u6cd5\u5bf9\u6570\u636e\u8fdb\u884c\u4fee\u6539\uff08\u8fd9\u5c31\u662fFilter\u7684\u4f5c\u7528\uff09\uff1b 3\uff0c\u5f53\u6570\u636e\u6d41\u8fc7\u6240\u6709\u7684\u8fc7\u6ee4\u5668\u540e\uff0c\u4f1a\u901a\u8fc7\u4e00\u4e2a\u8fc7\u6ee4\u5668\u5c06\u6570\u636e\u53d1\u5e03\u51fa\u53bb\uff08\u53d1\u5e03\u6570\u636e\u7684\u7279\u6b8a\u8fc7\u6ee4\u5668\u5c31\u662fPublisher\uff09\uff1b 4\uff0c\u611f\u77e5\u6a21\u5757\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u968f\u610f\u7684\u8fde\u63a5\u76f8\u5173\u8fc7\u6ee4\u5668\u6765\u6784\u6210\u4e00\u4e2a\u56fe\uff08Graph\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u968f\u610f\u53d8\u5316\uff09\u3002","title":"\u611f\u77e5\u6a21\u5757\u7684\u6846\u67b6"},{"location":"dpm/perception_guide/#graph","text":"","title":"\u7b80\u5355\u7684Graph"},{"location":"dpm/perception_guide/#_3","text":"Note \u5f53\u524d\u611f\u77e5\u6a21\u5757\u7684\u6240\u6709\u6570\u636e\u5747\u4e3a\u70b9\u4e91\uff0c\u4e0b\u9762\u7684\u6240\u6709\u6559\u7a0b\u5747\u4ee5\u7f16\u5199\u70b9\u4e91\u7684\u8fc7\u6ee4\u5668\u4e3a\u4f8b\u5b50\u3002","title":"\u7f16\u7a0b"},{"location":"dpm/perception_guide/#_4","text":"HIROP\u611f\u77e5\u6a21\u5757\u662f\u4f5c\u4e3aHIROP\u7684\u4e00\u4e2a\u5b50\u6a21\u5757\u5b58\u5728\uff0c\u56e0\u6b64\u9700\u8981\u4e0b\u8f7d\u5b8c\u6574\u7684HIROP\u5de5\u7a0b\u3002 $ git clone https://github.com/HSRobot/hirop.git $ cd hirop ; mkdir build; cd build $ cmake ../ $ make $ make install $ echo 'PYTHONPATH=/usr/local/lib/python2.7/dist-packages/hirop_perecption/:$PYTHONPATH' >> ~/.bashrc","title":"\u4e0b\u8f7d\u6e90\u7801"},{"location":"dpm/perception_guide/#_5","text":"\u5728hirop/src/perception/filter/\u4e2d\u521b\u5efa\u8fc7\u6ee4\u5668\u7684\u6e90\u6587\u4ef6(myfilter.cpp)\u548c\u5934\u6587\u4ef6(myfilter.h)\u3002 myfilter.h #pragma once #include <ecto/ecto.hpp> #include <ecto_pcl/ecto_pcl.hpp> using ecto::tendrils; namespace hirop_perception{ class MyFilter{ public: /** * @brief MyFilter \u6784\u9020\u51fd\u6570 */ MyFilter(){} /** * \u6790\u6784\u51fd\u6570 */ ~MyFilter(){} /** * @brief \u5b9a\u4e49\u8fc7\u6ee4\u5668\u53c2\u6570 */ static void declare_params(tendrils& params); /** * @brief \u5b9a\u4e49\u8fc7\u6ee4\u5668\u8f93\u5165\u8f93\u51fa */ static void declare_io(const tendrils& params, tendrils& in, tendrils& out); /** * @brief \u8fc7\u6ee4\u5668\u7684\u8fc7\u6ee4\u5b9e\u73b0 */ template <typename Point> int process(const tendrils& inputs, const tendrils& outputs, boost::shared_ptr<const pcl::PointCloud<Point> >& input); /** * @brief \u8fc7\u6ee4\u5668\u7684\u914d\u7f6e */ void configure(const tendrils& params, const tendrils& inputs, const tendrils& outputs); private: float _z; }; } myfilter.cpp #include \"myfilter.h\" using namespace hirop_perception; void MyFilter::declare_params(tendrils& params){ params.declare<float>(\"Z\", \"The pointcolud vaild Z area\", 5); } void MyFilter::declare_io(const ecto::tendrils &params, ecto::tendrils &in, ecto::tendrils &out){ in.declare<ecto::pcl::PointCloud>(\"input\", \"The colud to filter\"); out.declare<ecto::pcl::PointCloud>(\"output\", \"The colud to out\"); } void MyFilter::configure(const ecto::tendrils &params, const ecto::tendrils &inputs, const ecto::tendrils &outputs){ _z = params.get<float>(\"Z\"); } template<typename Point> int MyFilter::process(const tendrils& inputs, const tendrils& outputs, boost::shared_ptr<const pcl::PointCloud<Point> >& input){ typename pcl::PointCloud<Point>::Ptr outPointCloud(new pcl::PointCloud<Point>); int size = input->points.size(); for(int i =0; i < size; i++){ if(input->points[i].z < _z) outPointCloud->points.push_back(cloud->points[i]); } outPointCloud->height = 1; outPointCloud->width = outPointCloud->points.size(); outputs.get<ecto::pcl::PointCloud>(\"output\") = ecto::pcl::PointCloud(outPointCloud); return ecto::OK; } ECTO_CELL(hirop_perception, ecto::pcl::PclCell<MyFilter>,\\ \"VoxelFilter\", \"The point cloud voxel filter\")","title":"\u7f16\u5199\u8fc7\u6ee4\u5668"},{"location":"dpm/perception_guide/#_6","text":"","title":"\u4ee3\u7801\u89e3\u6790"},{"location":"dpm/perception_guide/#_7","text":"\u6211\u4eec\u9700\u8981\u5728filter.h\u4e2d\u5bfc\u5165\u5fc5\u8981\u7684\u5934\u6587\u4ef6 #include <ecto/ecto.hpp> #include <ecto_pcl/ecto_pcl.hpp>","title":"\u5fc5\u8981\u7684\u5934\u6587\u4ef6"},{"location":"dpm/perception_guide/#_8","text":"declare_params \u51fd\u6570\uff1a void MyFilter::declare_params(tendrils& params){ params.declare<float>(\"Z\", \"The pointcolud vaild Z area\", 5); } \u8be5\u51fd\u6570\u7528\u4e8e\u58f0\u660e\u8fc7\u6ee4\u5668\u7684\u53c2\u6570\u3002\u5728\u4e0b\u9762\u7684\u4ee3\u7801\u91cc\uff0c\u6211\u4eec\u58f0\u660e\u4e86MyFilter\u8fd9\u4e2a\u8fc7\u6ee4\u5668\u6709\u4e2a\u540d\u4e3a Z \uff0c\u7c7b\u578b\u4e3a float \u7684\u53c2\u6570\u3002\u7528\u4e8e\u914d\u7f6e\u8fc7\u6ee4\u5668\u5e94\u5f53\u8fc7\u6ee4\u4ec0\u4e48\u8303\u56f4\u4ee5\u5916\u7684\u6570\u636e\u3002 declare_io \u51fd\u6570\uff1a void MyFilter::declare_io(const ecto::tendrils &params, ecto::tendrils &in, ecto::tendrils &out){ in.declare<ecto::pcl::PointCloud>(\"input\", \"The colud to filter\"); out.declare<ecto::pcl::PointCloud>(\"output\", \"The colud to out\"); } \u8be5\u51fd\u6570\u7528\u4e8e\u58f0\u660e\u8fc7\u6ee4\u5668\u7684\u8f93\u5165\u548c\u8f93\u51fa\u3002\u6bcf\u4e2a\u8fc7\u6ee4\u5668\u5747\u6709\u8f93\u5165\u548c\u8f93\u51fa\u3002\u5728\u672c\u4f8b\u4e2d\u6211\u4eec\u6709\u4e00\u4e2a\u540d\u4e3a input \uff0c\u7c7b\u578b\u4e3a ecto::pcl::PointCloud \u7684\u8f93\u5165\uff0c\u7528\u4e8e\u4ece\u4e0a\u4e00\u7ea7\u8fc7\u6ee4\u5668\u4e2d\u4ecb\u7ecd\u70b9\u4e91\u3002 \u4ee5\u53ca\u4e00\u4e2a\u540d\u4e3a output \uff0c\u7c7b\u578b\u4e3a ecto::pcl::PointCloud \u7684\u8f93\u51fa\uff0c\u7528\u4e8e\u5c06\u70b9\u4e91\u8f93\u51fa\u5230\u4e0b\u4e00\u7ea7\u8fc7\u6ee4\u5668\u4e2d\u3002 configure \u51fd\u6570\uff1a void MyFilter::configure(const ecto::tendrils &params, const ecto::tendrils &inputs, const ecto::tendrils &outputs){ _z = params.get<float>(\"Z\"); } \u8be5\u51fd\u6570\u7684\u4f5c\u7528\u5728\u4e8e\uff1a\u5f53\u8fc7\u6ee4\u5668\u88ab\u521d\u59cb\u5316\u65f6\u6765\u5b8c\u6210\u8fc7\u6ee4\u5668\u5185\u90e8\u7684\u521d\u59cb\u5316\uff0c\u6bd4\u5982\u5904\u7406\u76f8\u5173\u53c2\u6570\u3002\u5728\u672c\u4f8b\u4e2d\uff0cconfigure\u51fd\u6570\u53ea\u662f\u5c06\u8fc7\u6ee4\u5668\u53c2\u6570 Z \u4fdd\u5b58\u8d77\u6765\u800c\u5df2\u3002 process \u51fd\u6570\uff1a template<typename Point> int MyFilter::process(const tendrils& inputs, const tendrils& outputs, boost::shared_ptr<const pcl::PointCloud<Point> >& input){ typename pcl::PointCloud<Point>::Ptr outPointCloud(new pcl::PointCloud<Point>); int size = input->points.size(); for(int i =0; i < size; i++){ if(input->points[i].z < _z) outPointCloud->points.push_back(cloud->points[i]); } outPointCloud->height = 1; outPointCloud->width = outPointCloud->points.size(); outputs.get<ecto::pcl::PointCloud>(\"output\") = ecto::pcl::PointCloud(outPointCloud); return ecto::OK; } \u6574\u4e2a\u8fc7\u6ee4\u5668\u6700\u91cd\u8981\u7684\u51fd\u6570\uff0c\u7528\u4e8e\u5bf9\u6570\u636e\u8fdb\u884c\u5904\u7406\u3002\u5728\u672c\u4f8b\u4e2d\uff0c\u6211\u4eec\u53ea\u662f\u7b80\u5355\u7684\u5c06Z\u8f74\u5927\u4e8e _z \u7684\u70b9\u4e91\u7ed9\u4e22\u5f03\u3002\u7136\u540e\u901a\u8fc7\u4e0b\u9762\u7684\u4e24\u884c\u4ee3\u7801\u5c06\u8fc7\u6ee4\u540e\u7684\u70b9\u4e91\u8f93\u51fa\u81f3\u4e0b\u4e00\u7ea7\u8fc7\u6ee4\u5668\u4e2d\u3002 outputs.get<ecto::pcl::PointCloud>(\"output\") = ecto::pcl::PointCloud(outPointCloud); return ecto::OK;","title":"\u8fc7\u6ee4\u5668\u7684\u5173\u952e\u51fd\u6570"},{"location":"dpm/perception_guide/#_9","text":"\u6700\u540e\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7\u4e0b\u9762\u7684\u4ee3\u7801\u6765\u5bfc\u51fa\u6211\u4eec\u521a\u521a\u5b8c\u6210\u7684\u8fc7\u6ee4\u5668\u3002 ECTO_CELL(hirop_perception, ecto::pcl::PclCell<MyFilter>,\\ \"MyFilter\", \"My first filter\") ECTO_CELL \u5b8f\u7684\u53c2\u6570\u63cf\u8ff0\uff1a - hirop_perception\uff1a\u751f\u6210\u7684\u611f\u77e5\u6a21\u5757\u7684\u540d\u79f0 - ecto::pcl::PclCell \uff1a\u58f0\u660e\u5b9e\u4e60\u8fc7\u6ee4\u5668\u529f\u80fd\u7684\u7c7b - \"MyFilter\"\uff1a\u8fc7\u6ee4\u5668\u7684\u540d\u79f0 - \"My first filter\"\uff1a\u8fc7\u6ee4\u5668\u7684\u63cf\u8ff0","title":"\u5bfc\u51fa\u8fc7\u6ee4\u5668"},{"location":"dpm/perception_guide/#_10","text":"\u5728\u5b8c\u6210\u4ee3\u7801\u7684\u7f16\u5199\u540e\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u914d\u7f6e\u76f8\u5173\u7684\u5de5\u7a0b\u6765\u5c06\u6211\u4eec\u7684\u8fc7\u6ee4\u5668\u7f16\u8bd1\u3002 \u5728hirop/src/perception/filter/CMakeLists.txt\u7684ectomodule\u51fd\u6570\u524d\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801 SET(SOURCES ${SOURCES} myfilter.cpp)","title":"\u914d\u7f6e\u5de5\u7a0b"},{"location":"dpm/perception_guide/#_11","text":"$ cd hirop/build $ make $ sudo make install","title":"\u7f16\u8bd1\u5de5\u7a0b"},{"location":"dpm/perception_guide/#_12","text":"\u5728\u5b8c\u6210\u4e0a\u8ff0\u7684\u6559\u7a0b\u540e\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6765\u6d4b\u8bd5\u4e0b\u6211\u4eec\u7684\u8fc7\u6ee4\u5668\uff0c\u770b\u770b\u5176\u662f\u5426\u6709\u6548\u3002\u9996\u5148\u8ba9\u6211\u4eec\u521b\u5efa\u4e00\u4e2apython\u6587\u4ef6:perception_test.py\uff0c\u8f93\u5165\u4ee5\u4e0b\u5185\u5bb9\uff1a #!/usr/bin/env python # -*- coding: utf-8 -*- import hirop_perception import rospy import ecto, ecto_pcl, ecto_ros if __name__==\"__main__\": # \u521d\u59cb\u5316ROS\u8282\u70b9 ecto_ros.init(sys.argv, \"perception_test\") rospy.init_node('ros_test') # \u6784\u9020\u4e00\u4e2a\u4eceROS\u8bdd\u9898\u4e2d\u83b7\u53d6\u6570\u636e\u7684\u8fc7\u6ee4\u5668\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8fc7\u6ee4\u5668\u7684\u540d\u79f0\uff0c\u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u8bdd\u9898\u540d\u79f0\uff0c\u7b2c\u4e09\u4e2a\u662f\u5c06\u70b9\u4e91\u8f6c\u6362\u5230\u7684\u76ee\u6807\u5750\u6807\u7cfb rosSource = hirop_perception.PointCloudRos('source', topic_name=\"/camera/depth/points\", world_frame='base_link') # \u6784\u9020\u4e00\u4e2a\u5c06\u8fc7\u6ee4\u5668\u8f93\u51fa\u53d1\u5e03\u5230ROS\u8bdd\u9898\u7684\u8fc7\u6ee4\u5668\uff0c\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8fc7\u6ee4\u5668\u7684\u540d\u79f0\uff0c\u7b2c\u4e8c\u53c2\u6570\u662f\u53d1\u5e03\u7684\u70b9\u4e91\u7684\u53c2\u8003\u5750\u6807\u7cfb publisher = hirop_perception.PointCloudPublish(\"publisher\", frame_id=\"base_link\") # \u6784\u9020\u4e00\u4e2a\u6211\u4eec\u521a\u521a\u5236\u4f5c\u7684\u81ea\u5df1\u7684\u8fc7\u6ee4\u5668\uff0c\u8bbe\u7f6e\u8fc7\u6ee4\u8ddd\u79bb\u4e3a2\u7c73 myFilter = hirop_perception.MyFilter('myFilter', Z=2) # \u6784\u9020\u4e00\u4e2a\u70b9\u4e91\u53ef\u89c6\u5316\u7a97\u53e3\u8fc7\u6ee4\u5668 pclViewer = ecto_pcl.CloudViewer(\"viewer\", window_name=\"PCD Viewer\") # \u58f0\u660e\u4e00\u4e2a\u8ba1\u7b97\u56fe testPlasm = ecto.Plasm() # \u5b9a\u4e49\u8ba1\u7b97\u56fe\u7684\u7ed3\u6784 testPlasm.connect(rosSource[\"output\"] >> self.myFilter[\"input\"], self.myFilter[\"output\"] >> self.pclViewer[\"input\"], self.pclFunsion[\"output\"] >> self.publisher[\"input\"]) # \u8fd0\u884c\u8ba1\u7b97\u56fe sched = ecto.Scheduler(lookPlasm) # \u8fdb\u5165ROS\u7684\u6d88\u606f\u5faa\u73af rospy.spin() \u76f4\u63a5\u8fd0\u884c\u811a\u672c\u540e\uff0c\u5728\u63a5\u6536\u5230\u70b9\u4e91\u7684\u65f6\u5019\u4f1a\u5f39\u51fa\u4e00\u4e2a\u7a97\u53e3\uff0c\u6b63\u5e38\u7684\u60c5\u51b5\u4e0b\u5e94\u8be5\u53ef\u4ee5\u770b\u5230Z\u5927\u4e8e2m\u7684\u70b9\u4e91\u5168\u90e8\u88ab\u8fc7\u6ee4\u6389\u4e86\u3002","title":"\u6d4b\u8bd5\u8fc7\u6ee4\u5668"},{"location":"dpm/perception_guide/#_13","text":"\u81f3\u6b64\uff0c\u6240\u6709\u6559\u7a0b\u5747\u5df2\u7ed3\u675f","title":"\u5b8c\u6210"},{"location":"dpm/vision_guide/","text":"\u5f15\u8a00 \u901a\u8fc7\u8be5\u5b66\u4e60\u8be5\u6307\u5357\u53ef\u4ee5\u4e86\u89e3\u5f00\u53d1HIROP\u5e73\u53f0vision\u6a21\u5757\u7684\u57fa\u7840\u6d41\u7a0b \u51c6\u5907 \u5728\u5f00\u59cb\u524d\uff0c\u6211\u4eec\u9700\u8981\u719f\u6089\u548c\u4e86\u89e3\u4ee5\u4e0b\u6982\u5ff5\u3002 \u63a5\u53e3 \u5728HIROP vision\u6a21\u5757\u4e2d\uff0c\u5c06\u5f00\u53d1\u63a5\u53e3\u5206\u4e3a\u4e86\u7528\u6237\u63a5\u53e3\u548c\u5f00\u53d1\u8005\u63a5\u53e3\u3002 \u7528\u6237\u63a5\u53e3 \u7528\u6237\u63a5\u53e3\u662f\u63d0\u4f9b\u7ed9\u60f3\u4f7f\u7528VISION\u8bc6\u522b\u529f\u80fd\u5f00\u53d1\u673a\u5668\u4eba\u5e94\u7528\u7a0b\u5e8f\u7684\u5f00\u53d1\u8005\u4f7f\u7528\u7684\u3002 \u5f00\u53d1\u8005\u63a5\u53e3 \u5f00\u53d1\u8005\u63a5\u53e3\u5219\u662f\u4e3a\u90a3\u4e9b\u60f3\u5c06\u81ea\u5df1\u6216\u5176\u4ed6\u89c6\u89c9\u7b97\u6cd5\u96c6\u6210\u81f3vision\u4e2d\u7b97\u6cd5\u5f00\u53d1\u8005\u548c\u96c6\u6210\u8005\u4f7f\u7528\u7684\u3002 \u800c\u672c\u6587\u4e3b\u8981\u5c31\u662f\u63cf\u8ff0\u5982\u4f55\u5c06\u4e00\u4e2a\u89c6\u89c9\u7b97\u6cd5\u96c6\u6210\u81f3vision\u4e2d\u3002 \u6a21\u5757 \u4e3a\u4e86\u96c6\u6210\u89c6\u89c9\u7b97\u6cd5\u81f3VISION\u6a21\u5757\u4e2d\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u4e86\u89e3\u4ee5\u4e0b\u6982\u5ff5\uff1a\u8bad\u7ec3\u5668\u548c\u8bc6\u522b\u5668\u3002\u5728\u96c6\u6210\u76f8\u5173\u7b97\u6cd5\u65f6\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u7f16\u5199\u8fd9\u4e24\u4e2a\u6a21\u5757\u3002 \u8bad\u7ec3\u5668 \u7531\u4e8eVISION\u6a21\u5757\u53ef\u4ee5\u9002\u914d\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u53ca\u5176\u4ed6\u9700\u8981\u8fdb\u884c\u8bad\u7ec3\u7684\u89c6\u89c9\u7b97\u6cd5\uff0c\u56e0\u6b64VISION\u6a21\u5757\u4e2d\u72ec\u7acb\u5206\u51fa\u6765\u4e86\u8bad\u7ec3\u5668\u7684\u6982\u5ff5\uff1a\u7528\u6237\u7b97\u6cd5\u8bad\u7ec3\u529f\u80fd\u5b9e\u73b0\u7684\u6a21\u5757\u3002 \u5982\u679c\u4f7f\u7528\u7684\u7b97\u6cd5\u4e0d\u9700\u8981\u8fdb\u884c\u8bad\u7ec3\uff0c\u90a3\u4e48\u5219\u65e0\u9700\u4e3a\u7b97\u6cd5\u7f16\u5199\u8bad\u7ec3\u5668\u3002 \u8bc6\u522b\u5668 \u8bc6\u522b\u5668\u5c31\u662f\u7528\u6237\u7b97\u6cd5\u8fdb\u884c\u5b9e\u9645\u7269\u4f53\u8bc6\u522b\u7684\u6a21\u5757\uff0c\u6240\u6709\u7684\u7528\u6237\u7b97\u6cd5\u90fd\u5fc5\u987b\u5b9e\u73b0\u6539\u6a21\u5757\u3002 \u5f00\u53d1\u8bed\u8a00 Vision\u6a21\u5757\u652f\u6301\u4f7f\u7528Python\u548cC++\u4e24\u79cd\u8bed\u8a00\u6765\u7f16\u5199\u76f8\u5173\u7b97\u6cd5\u7684\u5b9e\u4f8b\u3002\u4e0d\u7ba1\u4f7f\u7528\u4f55\u79cd\u8bed\u8a00\u5176\u5f00\u53d1\u8005\u63a5\u53e3\u90fd\u662f\u4e00\u81f4\u7684\u3002 \u5f00\u59cb \u901a\u8fc7\u4e86\u89e3\u4e86\u4e0a\u8ff0\u6982\u5ff5\u540e\u6211\u4eec\u5c31\u5f00\u59cb\u8fdb\u5165\u6211\u4eec\u7684\u5f00\u53d1\u4e2d\u4e86\u3002\u73b0\u5728\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u7269\u4f53\u8bc6\u522b\u7b97\u6cd5A\uff0c\u5176\u8bc6\u522b\u4e4b\u524d\u9700\u8981\u8fdb\u884c\u8bad\u7ec3\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5f00\u53d1\u4e24\u4e2a\u6a21\u5757\uff1aA\u8bad\u7ec3\u5668\u548cA\u8bc6\u522b\u5668\u3002 \u4e0b\u9762\u6211\u5c06\u5206\u522b\u8bb2\u89e3C++\u548cPython\u5982\u4f55\u7f16\u5199\u7b97\u6cd5\u5b9e\u4f8b\u3002 C++ \u7f16\u5199\u8bad\u7ec3\u5668 // \u5f00\u53d1\u8005\u63a5\u53e3\u6e90\u6587\u4ef6 #include <vision/c_base_trainer.h> class ATrainer : public CBaseTrainer{ public: ATrainer(); /** * @brief A\u8bad\u7ec3\u5668\u7684\u5177\u4f53\u8bad\u7ec3\u5b9e\u73b0\u51fd\u6570 * @return 0 \u8bad\u7ec3\u6210\u529f -1 \u8bad\u7ec3\u5931\u8d25 */ int train(){ /** * \u5177\u4f53\u8bad\u7ec3\u7684\u5b9e\u73b0 */ } /** * @brief \u89e3\u6790\u7531\u521b\u5efa\u4f20\u9012\u8fc7\u6765\u7684\u7b97\u6cd5\u7684\u914d\u7f6e\u53c2\u6570 * @param * @return 0 \u6210\u529f -1 \u5931\u8d25 */ int parseConfig(const YAML::Node &node){ /** * \u89e3\u6790\u53c2\u6570\uff0c\u6bd4\u5982\u83b7\u53d6\u8bad\u7ec3\u7684\u6b21\u6570\uff0c\u6570\u636e\u96c6\u7684\u7684\u8def\u5f84\u7b49 */ } /** * @brief \u83b7\u53d6\u8bad\u7ec3\u8fdb\u5ea6 * @param * @return 0 > \u83b7\u53d6\u5931\u8d25 >=0 \u8fdb\u5ea6 */ int feedback(){ /** * \u83b7\u53d6\u5e76\u8fd4\u56de\u5f53\u524d\u7684\u8bad\u7ec3\u8fdb\u5ea6 */ } /** * @brief \u4fdd\u5b58\u8bad\u7ec3\u7ed3\u679c * @param \u4fdd\u5b58\u8def\u5f84 * @return 0 \u6210\u529f -1 \u5931\u8d25 */ int saveData(std::string path){ /** * \u4fdd\u5b58\u76f8\u5173\u8bad\u7ec3\u7684\u7ed3\u679c\uff0c\u4fdd\u5b58\u5728path\u8def\u5f84\u4e0b */ } } // \u5b9a\u4e49\u8be5\u7c7b\u4e3a\u4e00\u4e2a\u63d2\u4ef6\uff0c\u7ee7\u627f\u81ea\u8bad\u7ec3\u5668 H_DECLARE_PLUGIN(ITrainer) H_EXPORT_PLUGIN(ATrainer, \"ATrainer\", \"1.0\") Note \u5728\u7f16\u5199\u7b97\u6cd5\u5b9e\u4f8b\u65f6\uff0c\u6211\u4eec\u7684\u8bad\u7ec3\u5668\u5b9e\u4f8b\u9700\u8981\u7ee7\u627f\u4e0e ITrainer \u63a5\u53e3\u3002\u4f46\u662f\u5728\u8fd9\u91cc\u6211\u4eec\u5374\u7ee7\u627f\u4e86 CBaseTrainer \uff1f\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f \u4e3b\u8981\u662f\u56e0\u4e3aVision\u6a21\u5757\u4e2d\u4e3a\u8bad\u7ec3\u5668\u63d0\u4f9b\u4e86\u8f85\u52a9\u7c7b\uff0c\u5e2e\u52a9\u6211\u4eec\u5b9e\u73b0\u4e86\u90e8\u5206\u7b80\u5355\u7684 ITrainer \u63a5\u53e3\uff0c\u964d\u4f4e\u5f00\u53d1\u8005\u7684\u5f00\u53d1\u96be\u5ea6\u3002 \u5728ATrainer\u4e2d\uff0c\u6211\u9700\u8981\u5b9e\u73b0\uff1a int train() \uff1a\u8be5\u51fd\u6570\u5c31\u662f\u4e3b\u8981\u8fdb\u884c\u7269\u4f53\u8bad\u7ec3\u7684\u63a5\u53e3\u4e86\uff0c\u7b97\u6cd5\u7684\u5177\u4f53\u8bad\u7ec3\u529f\u80fd\u5728\u8be5\u63a5\u53e3\u4e2d\uff08\u963b\u585e\uff09\u5b9e\u73b0\u3002 int parseConfig() \uff1a\u5bf9\u4e8e\u9700\u8981\u4e00\u4e9b\u53c2\u6570\u7684\u8bad\u7ec3\u5668\u800c\u8a00\uff0c\u8be5\u51fd\u6570\u4e3b\u8981\u662f\u7528\u4e8e\u4eceVision\u6a21\u5757\u4e2d\u4f20\u9012\u76f8\u5173\u7684\u8bad\u7ec3\u5668\u53c2\u6570\u7684\uff0c\u4f20\u9012\u662fYaml\u5bf9\u8c61\u3002\u5bf9\u4e8e\u65e0\u9700\u8bad\u7ec3\u53c2\u6570\u7684\u7b97\u6cd5\u5b9e\u4f8b\uff0c\u5219\u65e0\u9700\u5b9e\u73b0\u3002 int feedback() \uff1a\u8be5\u51fd\u6570\u4e3b\u8981\u7684\u76ee\u7684\u5728\u4e8e\u5411Vision\u6a21\u5757\u53cd\u9988\u5f53\u524d\u8bad\u7ec3\u7684\u8fdb\u5ea6\uff0c\u5982\u679c\u60f3\u4e3a\u4f60\u7684\u8bad\u7ec3\u5668\u63d0\u4f9b\u8fdb\u5ea6\u83b7\u53d6\u7684\u529f\u80fd\uff0c\u5219\u53ef\u5728\u8be5\u51fd\u6570\u4e2d\u5177\u4f53\u5b9e\u73b0\u83b7\u53d6\u8fdb\u5ea6\u5e76\u8fd4\u56de\uff0c\u5982\u4e0d\u63d0\u4f9b\u8fdb\u5ea6\u529f\u80fd\uff0c\u5219\u65e0\u9700\u5b9e\u73b0\u3002 int saveData() \uff1a\u7531\u4e8e\u5f53\u671fVISION\u6a21\u5757\u4e2d\u4e0d\u63d0\u4f9b\u6570\u636e\u4fdd\u5b58\u76f8\u5173\u7684\u63a5\u53e3\uff0c\u8fd9\u5c31\u610f\u5473\u7740\u5f00\u53d1\u8005\u9700\u8981\u81ea\u5df1\u7f16\u5199\u4ee3\u7801\u6765\u4fdd\u5b58\u76f8\u5173\u7684\u8bad\u7ec3\u6570\u636e\u3002\u4e0d\u8fc7Vison\u4e3a\u4e86\u65b9\u4fbf\u7ba1\u7406\u8bad\u7ec3\u6570\u636e\uff0c\u4f1a\u4e3a\u6bcf\u4e2a\u8bad\u7ec3\u5668\u63d0\u4f9b\u4e00\u4e2a\u4e13\u6709\u7684\u76ee\u5f55\u3002\u56e0\u6b64\uff0c\u8bad\u7ec3\u5668\u9700\u8981\u5c06\u6240\u6709\u7684\u8bad\u7ec3\u6570\u636e\u4fdd\u5b58\u81f3\u6307\u5b9a\u8def\u5f84path\u4e2d\u3002 \u5b9e\u73b0\u4e0a\u9762\u7684\u56db\u4e2a\u63a5\u53e3\u540e\uff0c\u6211\u4eec\u7684Vision\u4fbf\u53ef\u4ee5\u8bc6\u522b\u548c\u4f7f\u7528ATrainer\u4e86\u3002\u4e0d\u8fc7\u5728\u6700\u540e\uff0c\u6211\u4eec\u9700\u8981\u58f0\u660e\uff0c\u6211\u4eec\u8fd9\u4e2a\u7c7b\u662f\u4e00\u4e2a\u63d2\u4ef6\u3002 \u56e0\u4e3a\u5728Vision\u4e2d\uff0c\u6240\u6709\u7684\u7b97\u6cd5\u5b9e\u4f8b\u90fd\u662f\u4ee5\u63d2\u4ef6\u7684\u5f62\u5f0f\u5b58\u5728 H_DECLARE_PLUGIN(ITrainer) H_EXPORT_PLUGIN(ATrainer, \"ATrainer\", \"1.0\") \u5bf9\u4e8e\u8be5\u5b8f\u7684\u4f7f\u7528\u548c\u5b9a\u4e49\u53ef\u53c2\u8003 HPluin\u5f00\u53d1\u6307\u5357 \u3002 \u8bad\u7ec3\u5668\u63a5\u53e3\u8c03\u7528\u987a\u5e8f \u5bf9\u4e8e\u4e0a\u8ff0ATrainer\u5b9e\u73b0\u7684\u63a5\u53e3\uff0cVision\u6a21\u5757\u5bf9\u8bad\u7ec3\u63a5\u53e3\u7684\u8c03\u7528\u65f6\u673a\u5982\u4e0b\u3002 Vision\u6a21\u5757\u9996\u5148\u6839\u636e\u7528\u6237\u8bf7\u6c42\uff0c\u8c03\u7528 ATrainer \u6784\u9020\u51fd\u6570 \u7136\u540e\u8c03\u7528 parseConfig() \u5411ATrainer\u4f20\u9012\u8bad\u7ec3\u7684\u4fe1\u606f\uff0c\u5982\uff1a\u7269\u4f53\u540d\u79f0\u3001\u7269\u4f53\u6a21\u578b\u8def\u5f84\u3001\u6570\u636e\u96c6\u8def\u5f84\u7b49 \u5728\u901a\u8fc7parseConfig\u89e3\u6790\u5b8c\u76f8\u5173\u53c2\u6570\u540e\uff0cvision\u6a21\u5757\u5c31\u4f1a\u8c03\u7528 train() \u63a5\u53e3\u6765\u8fdb\u884c\u8bad\u7ec3 \u5f53\u901a\u8fc7train()\u8bad\u7ec3\u5b8c\u6bd5\u540e\uff0cVision\u6a21\u5757\u4fbf\u4f1a\u8c03\u7528 saveData() \u63a5\u53e3\u6765\u901a\u77e5ATrainer\u8fdb\u884c\u6570\u636e\u7684\u4fdd\u5b58 \u7f16\u5199\u8bc6\u522b\u5668 #include <vision/c_base_detector.h> class ADetector : public CBaseDetector{ /** * @brief \u5b9e\u73b0\u5177\u4f53\u7684\u8bc6\u522b\u529f\u80fd * @return 0 \u6210\u529f -1 \u5931\u8d25 */ int detection(){ /** * \u7f16\u5199\u5177\u4f53\u7684\u8bc6\u522b\u7684\u4ee3\u7801 */ } /** * @brief \u52a0\u8f7d\u76f8\u5173\u7684\u8bad\u7ec3\u7ed3\u679c * @param [objectName] \u9700\u8981\u8bc6\u522b\u7684\u7269\u4f53 * @return 0 \u6210\u529f -1 \u5931\u8d25 */ int loadData(const std::string path, const std::string objectName){ /** * \u7f16\u5199\u4ecepath\u8def\u5f84\u4e0b\u52a0\u8f7d\u76f8\u5173\u7684\u8bad\u7ec3\u6587\u4ef6\uff0c\u5982\u679c\u6709\u7684\u8bdd\u3002\u5177\u4f53\u5982\u4f55\u52a0\u8f7d\u662f\u548c\u76f8\u5173\u8bad\u7ec3\u5668\u7ea6\u5b9a\u597d\u7684 */ } /** * @brief \u83b7\u53d6\u8bc6\u522b\u7684\u7ed3\u679c * @param[out] poses\uff0c \u4fdd\u5b58\u8bc6\u522b\u7684\u7ed3\u679c * @return 0 \u6210\u529f -1 \u5931\u8d25 */ int getResult(std::vector<pose> &poses){ /** * \u83b7\u53d6\u5177\u4f53\u7684\u8bc6\u522b\u7ed3\u679c\uff0c\u8fd4\u56de\u7684\u662f\u4f4d\u59ff */ } /** * @brief \u5411\u68c0\u6d4b\u5668\u4f20\u9012\u56fe\u50cf\u6570\u636e * @param [inputImg] \u8f93\u5165\uff0c\u4f20\u9012\u7684\u56fe\u50cf * @return void */ void setDepthImg(const cv::Mat &inputImg){ /** * \u7f16\u5199\u4fdd\u5b58\u76f8\u5173\u6df1\u5ea6\u56fe\u7684\u4ee3\u7801 */ } /** * @brief \u5411\u68c0\u6d4b\u5668\u4f20\u9012\u56fe\u50cf\u6570\u636e * @param [inputImg] \u8f93\u5165\uff0c\u4f20\u9012\u7684\u56fe\u50cf * @return void */ void setColorImg(const cv::Mat &inputImg){ /** * \u7f16\u5199\u4fdd\u5b58\u76f8\u5173\u5f69\u8272\u56fe\u7684\u4ee3\u7801 */ } H_DECLARE_PLUGIN(IDetector) H_EXPORT_PLUGIN(ADetector, \"ADetector\", \"1.0\") } \u5728\u7f16\u5199\u76f8\u5173\u7b97\u6cd5\u5b9e\u4f8b\u7684\u8bc6\u522b\u5668\u7684\u65f6\u5019\uff0c\u6211\u4eec\u7684\u8bc6\u522b\u5668\u5b9e\u4f8b\u9700\u8981\u7ee7\u627f IDetector \uff0c\u800c\u6b64\u5904\u7ee7\u627f\u4e86CBaseDetector\uff0c\u5177\u4f53\u539f\u56e0\u4e5f\u662f\u548c\u8bad\u7ec3\u5668\u8bf4\u7684\u4e00\u81f4\u3002 \u5728ADetector\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u5b9e\u73b0\u4ee5\u4e0b\u63a5\u53e3 int detection() \uff1a\u8be5\u63a5\u53e3\u4e3b\u8981\u5c31\u662f\u5b9e\u73b0\u5177\u4f53\u7684\u7269\u4f53\u8bc6\u522b\u903b\u8f91\uff0c\u8be5\u63a5\u53e3\u4f1a\u7531Vision\u6a21\u5757\u8c03\u7528 int loadData() \uff1a\u8be5\u63a5\u53e3\u7684\u4e3b\u8981\u76ee\u7684\u5c31\u662f\u4e3a\u4e86\u52a0\u8f7d\u88ab\u8bc6\u522b\u7269\u4f53\u7684\u8bad\u7ec3\u53c2\u6570\u3002\u800c\u76f8\u5173\u53c2\u6570\u5c31\u662f\u4fdd\u5b58\u5728path\u8def\u5f84\u4e0b\u7684\u3002\u800c\u5177\u4f53\u7684\u6570\u636e\u7684\u4fdd\u5b58\u683c\u5f0f\u5219\u662fATrainer\u5b9a\u4e49\u7684\u3002 int getResult() \uff1a\u8be5\u63a5\u53e3\u7684\u4e3b\u8981\u4f5c\u7528\u5c31\u662f\u5f53\u8bc6\u522b\u7ed3\u675f\u540e\uff0cVision\u8c03\u7528\u8be5\u63a5\u53e3\u6765\u83b7\u53d6\u5177\u4f53\u7684\u8bc6\u522b\u7ed3\u679c\u3002\u5e94\u6b21\u5728\u8be5\u7ed3\u679c\u4e2d\u5b9e\u73b0\u8bc6\u522b\u7ed3\u679c\u7684\u8fd4\u56de\u3002 void setDepthImg() \uff1a\u8be5\u63a5\u53e3\u7684\u4e3b\u8981\u4f5c\u7528\u5c31\u662f\u4fdd\u5b58\u7531Vision\u6a21\u5757\u4f20\u9012\u7ed9\u8bc6\u522b\u5668\u7684\u6df1\u5ea6\u56fe\u50cf\u6570\u636e\uff0c\u4f9b\u8bc6\u522b\u7684\u65f6\u5019\u4f7f\u7528\uff0c\u5982\u679c\u8bc6\u522b\u5668\u8bc6\u522b\u4e0d\u9700\u8981\u6df1\u5ea6\u56fe\uff0c\u5219\u8be5\u63a5\u53e3\u65e0\u9700\u5b9e\u73b0\u3002 void setColorImg() \uff1a\u8be5\u63a5\u53e3\u7684\u4e3b\u8981\u4f5c\u7528\u5c31\u662f\u4fdd\u5b58\u7531Vision\u6a21\u5757\u4f20\u9012\u7ed9\u8bc6\u522b\u5668\u7684\u5f69\u8272\u56fe\u50cf\u6570\u636e\uff0c\u4f9b\u8bc6\u522b\u7684\u65f6\u5019\u4f7f\u7528\uff0c\u5982\u679c\u8bc6\u522b\u5668\u8bc6\u522b\u4e0d\u9700\u8981\u5f69\u8272\u56fe\uff0c\u5219\u8be5\u63a5\u53e3\u65e0\u9700\u5b9e\u73b0\u3002 \u540c\u6837\u7684\uff0c\u5728\u5b9e\u73b0\u5b8c\u4e0a\u8bc9\u63a5\u53e3\u540e\uff0c\u6211\u4eec\u9700\u8981\u5bfc\u51fa\u6211\u4eec\u7684\u8bc6\u522b\u5668 H_DECLARE_PLUGIN(IDetector) H_EXPORT_PLUGIN(ADetector, \"ADetector\", \"1.0\") \u5bf9\u4e8e\u8be5\u5b8f\u7684\u4f7f\u7528\u548c\u5b9a\u4e49\u53ef\u53c2\u8003 HPluin\u5f00\u53d1\u6307\u5357 \u3002 \u8bad\u7ec3\u5668\u63a5\u53e3\u8c03\u7528\u987a\u5e8f \u5bf9\u4e8e\u4e0a\u8ff0ADetector\u5b9e\u73b0\u7684\u63a5\u53e3\uff0cVision\u6a21\u5757\u5bf9\u5176\u63a5\u53e3\u7684\u8c03\u7528\u65f6\u673a\u5982\u4e0b\u3002 Vision\u6a21\u5757\u9996\u5148\u6839\u636e\u7528\u6237\u8bf7\u6c42\uff0c\u8c03\u7528 ADetector() \u6784\u9020\u51fd\u6570 \u7136\u540e\u8c03\u7528ADetector\u4e2d\u7684 loadData() \u63a5\u53e3\uff0c\u6765\u901a\u77e5ADetector\u6765\u52a0\u8f7d\u88ab\u8bc6\u522b\u7269\u4f53\u7684\u8bad\u7ec3\u53c2\u6570 \u5728\u52a0\u8f7d\u5b8c\u76f8\u5173\u53c2\u6570\u540e\uff0cVision\u6a21\u5757\u4fbf\u4f1a\u901a\u8fc7 setDepthImg() \u548c setColorImg() \u63a5\u53e3\u5411ADetector\u4f20\u9012\u5f85\u8bc6\u522b\u7684\u56fe\u50cf\u6570\u636e \u5728\u4f20\u9012\u5b8c\u76f8\u5173\u53c2\u6570\u540e\uff0cVision\u6a21\u5757\u4fbf\u4f1a\u8c03\u7528ADetector\u7684 detection() \u63a5\u53e3\u6765\u8fdb\u884c\u7269\u4f53\u8bc6\u522b \u5f53\u901a\u8fc7detection()\u63a5\u53e3\u6267\u884c\u5b8c\u6210\uff0c\u5373\u8bc6\u522b\u5b8c\u6210\u540e\uff0cVision\u6a21\u5757\u5c31\u4f1a\u8c03\u7528 getResult() \u63a5\u53e3\u6765\u83b7\u53d6\u8bc6\u522b\u7684\u7ed3\u679c \u7f16\u8bd1 \u4f7f\u7528\u4e0b\u9762\u7684Cmake\u6587\u4ef6\u6765\u8fdb\u884c\u5de5\u7a0b\u914d\u7f6e cmake_minimum_required (VERSION 2.6) project (VisionDemo) add_library(ADetector ADetector.cpp) add_library(ATrainer ATrainer.cpp) find_package(hirop_vision REQUIRED) INCLUDE_DIRECTORIES(${hirop_vision_INCLUDE_DIRS}) TARGET_LINK_LIBRARIES(ADetector ${hirop_vision_LIBRARIES}) TARGET_LINK_LIBRARIES(ATrainer ${hirop_vision_LIBRARIES}) $ cmake ./ $ make $ export VISION_PLUGIN_PATH=$VISION_PLUGIN_PATH:\\`pwd\\` \u6d4b\u8bd5 \u53ef\u4f7f\u7528\u4ee5\u4e0b\u6307\u4ee4\u8fdb\u884c\u6d4b\u8bd5 $ rosrun vision_bridge vision_bridge $ rosservice call /detection cokecan A 0 \"\" \u5176\u4e2d\u7b2c\u4e8c\u6761\u6307\u4ee4 $ rosservice call /detection cokecan A 0 \"\" cokecan : \u5f85\u8bc6\u522b\u7269\u4f53\u540d\u79f0 A : \u8bc6\u522b\u5668\u540d\u79f0 0 : \u8bc6\u522b\u5668\u7684\u7c7b\u522b\uff0c 0\u4e3aC++ 1\u4e3apython Python \u5bf9\u4e8ePython\u5f00\u53d1\u8005\uff0c\u6240\u6709\u7684\u63a5\u53e3\u7684\u548cC++\u7248\u672c\u5747\u4e00\u81f4\uff0c\u53ea\u662f\u5c06\u7f16\u7a0b\u8bed\u8a00\u53d8\u6210\u4e86Python\u3002\u4e0b\u9762\u6211\u4eec\u53ea\u4ee5\u7f16\u5199\u8bc6\u522b\u5668\u6765\u4f5c\u4e3a\u4f8b\u5b50\u8bb2\u89e3\u5373\u53ef\u3002 \u7f16\u5199\u8bc6\u522b\u5668 class ADetector: def __init__(self): # do some init def detection(self): # do something detection def loadData(self, path, objectname): # load data from path def getResult(self, poses): # returen result def setDepthImg(self, img): # save depth image def setColorImg(self, img): # save color image \u5b9e\u73b0\u4e00\u4e2aPython\u7248\u672c\u7684\u8bc6\u522b\u5668\u53ea\u9700\u5b9e\u73b0\u4e00\u4e2a\u62e5\u6709\u4e0a\u8ff0\u63a5\u53e3\u7684\u7c7b\u5373\u53ef\u3002\u5176\u4f5c\u7528\u548c\u8c03\u7528\u987a\u5e8f\u548cC++\u7248\u672c\u7684\u4e00\u81f4 \u7f16\u8bd1 \u65e0\u9700\u7f16\u8bd1\uff0c\u53ea\u9700\u5c06python\u6e90\u6587\u4ef6\u547d\u540d\u4e3aADetector.py\u5e76\u653e\u7f6e\u5728VISION_PLUGIN_PATH\u73af\u5883\u53d8\u91cf\u8def\u5f84\u4e0b\u5373\u53ef \u6d4b\u8bd5 $ rosrun vision_bridge vision_bridge $ rosservice call /detection cokecan A 1 \"\"","title":"Vision\u6a21\u5757\u7f16\u7a0b\u6307\u5357"},{"location":"dpm/vision_guide/#_1","text":"\u901a\u8fc7\u8be5\u5b66\u4e60\u8be5\u6307\u5357\u53ef\u4ee5\u4e86\u89e3\u5f00\u53d1HIROP\u5e73\u53f0vision\u6a21\u5757\u7684\u57fa\u7840\u6d41\u7a0b","title":"\u5f15\u8a00"},{"location":"dpm/vision_guide/#_2","text":"\u5728\u5f00\u59cb\u524d\uff0c\u6211\u4eec\u9700\u8981\u719f\u6089\u548c\u4e86\u89e3\u4ee5\u4e0b\u6982\u5ff5\u3002","title":"\u51c6\u5907"},{"location":"dpm/vision_guide/#_3","text":"\u5728HIROP vision\u6a21\u5757\u4e2d\uff0c\u5c06\u5f00\u53d1\u63a5\u53e3\u5206\u4e3a\u4e86\u7528\u6237\u63a5\u53e3\u548c\u5f00\u53d1\u8005\u63a5\u53e3\u3002","title":"\u63a5\u53e3"},{"location":"dpm/vision_guide/#_4","text":"\u7528\u6237\u63a5\u53e3\u662f\u63d0\u4f9b\u7ed9\u60f3\u4f7f\u7528VISION\u8bc6\u522b\u529f\u80fd\u5f00\u53d1\u673a\u5668\u4eba\u5e94\u7528\u7a0b\u5e8f\u7684\u5f00\u53d1\u8005\u4f7f\u7528\u7684\u3002","title":"\u7528\u6237\u63a5\u53e3"},{"location":"dpm/vision_guide/#_5","text":"\u5f00\u53d1\u8005\u63a5\u53e3\u5219\u662f\u4e3a\u90a3\u4e9b\u60f3\u5c06\u81ea\u5df1\u6216\u5176\u4ed6\u89c6\u89c9\u7b97\u6cd5\u96c6\u6210\u81f3vision\u4e2d\u7b97\u6cd5\u5f00\u53d1\u8005\u548c\u96c6\u6210\u8005\u4f7f\u7528\u7684\u3002 \u800c\u672c\u6587\u4e3b\u8981\u5c31\u662f\u63cf\u8ff0\u5982\u4f55\u5c06\u4e00\u4e2a\u89c6\u89c9\u7b97\u6cd5\u96c6\u6210\u81f3vision\u4e2d\u3002","title":"\u5f00\u53d1\u8005\u63a5\u53e3"},{"location":"dpm/vision_guide/#_6","text":"\u4e3a\u4e86\u96c6\u6210\u89c6\u89c9\u7b97\u6cd5\u81f3VISION\u6a21\u5757\u4e2d\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u4e86\u89e3\u4ee5\u4e0b\u6982\u5ff5\uff1a\u8bad\u7ec3\u5668\u548c\u8bc6\u522b\u5668\u3002\u5728\u96c6\u6210\u76f8\u5173\u7b97\u6cd5\u65f6\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u7f16\u5199\u8fd9\u4e24\u4e2a\u6a21\u5757\u3002","title":"\u6a21\u5757"},{"location":"dpm/vision_guide/#_7","text":"\u7531\u4e8eVISION\u6a21\u5757\u53ef\u4ee5\u9002\u914d\u4f7f\u7528\u673a\u5668\u5b66\u4e60\u53ca\u5176\u4ed6\u9700\u8981\u8fdb\u884c\u8bad\u7ec3\u7684\u89c6\u89c9\u7b97\u6cd5\uff0c\u56e0\u6b64VISION\u6a21\u5757\u4e2d\u72ec\u7acb\u5206\u51fa\u6765\u4e86\u8bad\u7ec3\u5668\u7684\u6982\u5ff5\uff1a\u7528\u6237\u7b97\u6cd5\u8bad\u7ec3\u529f\u80fd\u5b9e\u73b0\u7684\u6a21\u5757\u3002 \u5982\u679c\u4f7f\u7528\u7684\u7b97\u6cd5\u4e0d\u9700\u8981\u8fdb\u884c\u8bad\u7ec3\uff0c\u90a3\u4e48\u5219\u65e0\u9700\u4e3a\u7b97\u6cd5\u7f16\u5199\u8bad\u7ec3\u5668\u3002","title":"\u8bad\u7ec3\u5668"},{"location":"dpm/vision_guide/#_8","text":"\u8bc6\u522b\u5668\u5c31\u662f\u7528\u6237\u7b97\u6cd5\u8fdb\u884c\u5b9e\u9645\u7269\u4f53\u8bc6\u522b\u7684\u6a21\u5757\uff0c\u6240\u6709\u7684\u7528\u6237\u7b97\u6cd5\u90fd\u5fc5\u987b\u5b9e\u73b0\u6539\u6a21\u5757\u3002","title":"\u8bc6\u522b\u5668"},{"location":"dpm/vision_guide/#_9","text":"Vision\u6a21\u5757\u652f\u6301\u4f7f\u7528Python\u548cC++\u4e24\u79cd\u8bed\u8a00\u6765\u7f16\u5199\u76f8\u5173\u7b97\u6cd5\u7684\u5b9e\u4f8b\u3002\u4e0d\u7ba1\u4f7f\u7528\u4f55\u79cd\u8bed\u8a00\u5176\u5f00\u53d1\u8005\u63a5\u53e3\u90fd\u662f\u4e00\u81f4\u7684\u3002","title":"\u5f00\u53d1\u8bed\u8a00"},{"location":"dpm/vision_guide/#_10","text":"\u901a\u8fc7\u4e86\u89e3\u4e86\u4e0a\u8ff0\u6982\u5ff5\u540e\u6211\u4eec\u5c31\u5f00\u59cb\u8fdb\u5165\u6211\u4eec\u7684\u5f00\u53d1\u4e2d\u4e86\u3002\u73b0\u5728\u5047\u8bbe\u6211\u4eec\u6709\u4e00\u7269\u4f53\u8bc6\u522b\u7b97\u6cd5A\uff0c\u5176\u8bc6\u522b\u4e4b\u524d\u9700\u8981\u8fdb\u884c\u8bad\u7ec3\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5f00\u53d1\u4e24\u4e2a\u6a21\u5757\uff1aA\u8bad\u7ec3\u5668\u548cA\u8bc6\u522b\u5668\u3002 \u4e0b\u9762\u6211\u5c06\u5206\u522b\u8bb2\u89e3C++\u548cPython\u5982\u4f55\u7f16\u5199\u7b97\u6cd5\u5b9e\u4f8b\u3002","title":"\u5f00\u59cb"},{"location":"dpm/vision_guide/#c","text":"","title":"C++"},{"location":"dpm/vision_guide/#_11","text":"// \u5f00\u53d1\u8005\u63a5\u53e3\u6e90\u6587\u4ef6 #include <vision/c_base_trainer.h> class ATrainer : public CBaseTrainer{ public: ATrainer(); /** * @brief A\u8bad\u7ec3\u5668\u7684\u5177\u4f53\u8bad\u7ec3\u5b9e\u73b0\u51fd\u6570 * @return 0 \u8bad\u7ec3\u6210\u529f -1 \u8bad\u7ec3\u5931\u8d25 */ int train(){ /** * \u5177\u4f53\u8bad\u7ec3\u7684\u5b9e\u73b0 */ } /** * @brief \u89e3\u6790\u7531\u521b\u5efa\u4f20\u9012\u8fc7\u6765\u7684\u7b97\u6cd5\u7684\u914d\u7f6e\u53c2\u6570 * @param * @return 0 \u6210\u529f -1 \u5931\u8d25 */ int parseConfig(const YAML::Node &node){ /** * \u89e3\u6790\u53c2\u6570\uff0c\u6bd4\u5982\u83b7\u53d6\u8bad\u7ec3\u7684\u6b21\u6570\uff0c\u6570\u636e\u96c6\u7684\u7684\u8def\u5f84\u7b49 */ } /** * @brief \u83b7\u53d6\u8bad\u7ec3\u8fdb\u5ea6 * @param * @return 0 > \u83b7\u53d6\u5931\u8d25 >=0 \u8fdb\u5ea6 */ int feedback(){ /** * \u83b7\u53d6\u5e76\u8fd4\u56de\u5f53\u524d\u7684\u8bad\u7ec3\u8fdb\u5ea6 */ } /** * @brief \u4fdd\u5b58\u8bad\u7ec3\u7ed3\u679c * @param \u4fdd\u5b58\u8def\u5f84 * @return 0 \u6210\u529f -1 \u5931\u8d25 */ int saveData(std::string path){ /** * \u4fdd\u5b58\u76f8\u5173\u8bad\u7ec3\u7684\u7ed3\u679c\uff0c\u4fdd\u5b58\u5728path\u8def\u5f84\u4e0b */ } } // \u5b9a\u4e49\u8be5\u7c7b\u4e3a\u4e00\u4e2a\u63d2\u4ef6\uff0c\u7ee7\u627f\u81ea\u8bad\u7ec3\u5668 H_DECLARE_PLUGIN(ITrainer) H_EXPORT_PLUGIN(ATrainer, \"ATrainer\", \"1.0\") Note \u5728\u7f16\u5199\u7b97\u6cd5\u5b9e\u4f8b\u65f6\uff0c\u6211\u4eec\u7684\u8bad\u7ec3\u5668\u5b9e\u4f8b\u9700\u8981\u7ee7\u627f\u4e0e ITrainer \u63a5\u53e3\u3002\u4f46\u662f\u5728\u8fd9\u91cc\u6211\u4eec\u5374\u7ee7\u627f\u4e86 CBaseTrainer \uff1f\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f \u4e3b\u8981\u662f\u56e0\u4e3aVision\u6a21\u5757\u4e2d\u4e3a\u8bad\u7ec3\u5668\u63d0\u4f9b\u4e86\u8f85\u52a9\u7c7b\uff0c\u5e2e\u52a9\u6211\u4eec\u5b9e\u73b0\u4e86\u90e8\u5206\u7b80\u5355\u7684 ITrainer \u63a5\u53e3\uff0c\u964d\u4f4e\u5f00\u53d1\u8005\u7684\u5f00\u53d1\u96be\u5ea6\u3002 \u5728ATrainer\u4e2d\uff0c\u6211\u9700\u8981\u5b9e\u73b0\uff1a int train() \uff1a\u8be5\u51fd\u6570\u5c31\u662f\u4e3b\u8981\u8fdb\u884c\u7269\u4f53\u8bad\u7ec3\u7684\u63a5\u53e3\u4e86\uff0c\u7b97\u6cd5\u7684\u5177\u4f53\u8bad\u7ec3\u529f\u80fd\u5728\u8be5\u63a5\u53e3\u4e2d\uff08\u963b\u585e\uff09\u5b9e\u73b0\u3002 int parseConfig() \uff1a\u5bf9\u4e8e\u9700\u8981\u4e00\u4e9b\u53c2\u6570\u7684\u8bad\u7ec3\u5668\u800c\u8a00\uff0c\u8be5\u51fd\u6570\u4e3b\u8981\u662f\u7528\u4e8e\u4eceVision\u6a21\u5757\u4e2d\u4f20\u9012\u76f8\u5173\u7684\u8bad\u7ec3\u5668\u53c2\u6570\u7684\uff0c\u4f20\u9012\u662fYaml\u5bf9\u8c61\u3002\u5bf9\u4e8e\u65e0\u9700\u8bad\u7ec3\u53c2\u6570\u7684\u7b97\u6cd5\u5b9e\u4f8b\uff0c\u5219\u65e0\u9700\u5b9e\u73b0\u3002 int feedback() \uff1a\u8be5\u51fd\u6570\u4e3b\u8981\u7684\u76ee\u7684\u5728\u4e8e\u5411Vision\u6a21\u5757\u53cd\u9988\u5f53\u524d\u8bad\u7ec3\u7684\u8fdb\u5ea6\uff0c\u5982\u679c\u60f3\u4e3a\u4f60\u7684\u8bad\u7ec3\u5668\u63d0\u4f9b\u8fdb\u5ea6\u83b7\u53d6\u7684\u529f\u80fd\uff0c\u5219\u53ef\u5728\u8be5\u51fd\u6570\u4e2d\u5177\u4f53\u5b9e\u73b0\u83b7\u53d6\u8fdb\u5ea6\u5e76\u8fd4\u56de\uff0c\u5982\u4e0d\u63d0\u4f9b\u8fdb\u5ea6\u529f\u80fd\uff0c\u5219\u65e0\u9700\u5b9e\u73b0\u3002 int saveData() \uff1a\u7531\u4e8e\u5f53\u671fVISION\u6a21\u5757\u4e2d\u4e0d\u63d0\u4f9b\u6570\u636e\u4fdd\u5b58\u76f8\u5173\u7684\u63a5\u53e3\uff0c\u8fd9\u5c31\u610f\u5473\u7740\u5f00\u53d1\u8005\u9700\u8981\u81ea\u5df1\u7f16\u5199\u4ee3\u7801\u6765\u4fdd\u5b58\u76f8\u5173\u7684\u8bad\u7ec3\u6570\u636e\u3002\u4e0d\u8fc7Vison\u4e3a\u4e86\u65b9\u4fbf\u7ba1\u7406\u8bad\u7ec3\u6570\u636e\uff0c\u4f1a\u4e3a\u6bcf\u4e2a\u8bad\u7ec3\u5668\u63d0\u4f9b\u4e00\u4e2a\u4e13\u6709\u7684\u76ee\u5f55\u3002\u56e0\u6b64\uff0c\u8bad\u7ec3\u5668\u9700\u8981\u5c06\u6240\u6709\u7684\u8bad\u7ec3\u6570\u636e\u4fdd\u5b58\u81f3\u6307\u5b9a\u8def\u5f84path\u4e2d\u3002 \u5b9e\u73b0\u4e0a\u9762\u7684\u56db\u4e2a\u63a5\u53e3\u540e\uff0c\u6211\u4eec\u7684Vision\u4fbf\u53ef\u4ee5\u8bc6\u522b\u548c\u4f7f\u7528ATrainer\u4e86\u3002\u4e0d\u8fc7\u5728\u6700\u540e\uff0c\u6211\u4eec\u9700\u8981\u58f0\u660e\uff0c\u6211\u4eec\u8fd9\u4e2a\u7c7b\u662f\u4e00\u4e2a\u63d2\u4ef6\u3002 \u56e0\u4e3a\u5728Vision\u4e2d\uff0c\u6240\u6709\u7684\u7b97\u6cd5\u5b9e\u4f8b\u90fd\u662f\u4ee5\u63d2\u4ef6\u7684\u5f62\u5f0f\u5b58\u5728 H_DECLARE_PLUGIN(ITrainer) H_EXPORT_PLUGIN(ATrainer, \"ATrainer\", \"1.0\") \u5bf9\u4e8e\u8be5\u5b8f\u7684\u4f7f\u7528\u548c\u5b9a\u4e49\u53ef\u53c2\u8003 HPluin\u5f00\u53d1\u6307\u5357 \u3002","title":"\u7f16\u5199\u8bad\u7ec3\u5668"},{"location":"dpm/vision_guide/#_12","text":"\u5bf9\u4e8e\u4e0a\u8ff0ATrainer\u5b9e\u73b0\u7684\u63a5\u53e3\uff0cVision\u6a21\u5757\u5bf9\u8bad\u7ec3\u63a5\u53e3\u7684\u8c03\u7528\u65f6\u673a\u5982\u4e0b\u3002 Vision\u6a21\u5757\u9996\u5148\u6839\u636e\u7528\u6237\u8bf7\u6c42\uff0c\u8c03\u7528 ATrainer \u6784\u9020\u51fd\u6570 \u7136\u540e\u8c03\u7528 parseConfig() \u5411ATrainer\u4f20\u9012\u8bad\u7ec3\u7684\u4fe1\u606f\uff0c\u5982\uff1a\u7269\u4f53\u540d\u79f0\u3001\u7269\u4f53\u6a21\u578b\u8def\u5f84\u3001\u6570\u636e\u96c6\u8def\u5f84\u7b49 \u5728\u901a\u8fc7parseConfig\u89e3\u6790\u5b8c\u76f8\u5173\u53c2\u6570\u540e\uff0cvision\u6a21\u5757\u5c31\u4f1a\u8c03\u7528 train() \u63a5\u53e3\u6765\u8fdb\u884c\u8bad\u7ec3 \u5f53\u901a\u8fc7train()\u8bad\u7ec3\u5b8c\u6bd5\u540e\uff0cVision\u6a21\u5757\u4fbf\u4f1a\u8c03\u7528 saveData() \u63a5\u53e3\u6765\u901a\u77e5ATrainer\u8fdb\u884c\u6570\u636e\u7684\u4fdd\u5b58","title":"\u8bad\u7ec3\u5668\u63a5\u53e3\u8c03\u7528\u987a\u5e8f"},{"location":"dpm/vision_guide/#_13","text":"#include <vision/c_base_detector.h> class ADetector : public CBaseDetector{ /** * @brief \u5b9e\u73b0\u5177\u4f53\u7684\u8bc6\u522b\u529f\u80fd * @return 0 \u6210\u529f -1 \u5931\u8d25 */ int detection(){ /** * \u7f16\u5199\u5177\u4f53\u7684\u8bc6\u522b\u7684\u4ee3\u7801 */ } /** * @brief \u52a0\u8f7d\u76f8\u5173\u7684\u8bad\u7ec3\u7ed3\u679c * @param [objectName] \u9700\u8981\u8bc6\u522b\u7684\u7269\u4f53 * @return 0 \u6210\u529f -1 \u5931\u8d25 */ int loadData(const std::string path, const std::string objectName){ /** * \u7f16\u5199\u4ecepath\u8def\u5f84\u4e0b\u52a0\u8f7d\u76f8\u5173\u7684\u8bad\u7ec3\u6587\u4ef6\uff0c\u5982\u679c\u6709\u7684\u8bdd\u3002\u5177\u4f53\u5982\u4f55\u52a0\u8f7d\u662f\u548c\u76f8\u5173\u8bad\u7ec3\u5668\u7ea6\u5b9a\u597d\u7684 */ } /** * @brief \u83b7\u53d6\u8bc6\u522b\u7684\u7ed3\u679c * @param[out] poses\uff0c \u4fdd\u5b58\u8bc6\u522b\u7684\u7ed3\u679c * @return 0 \u6210\u529f -1 \u5931\u8d25 */ int getResult(std::vector<pose> &poses){ /** * \u83b7\u53d6\u5177\u4f53\u7684\u8bc6\u522b\u7ed3\u679c\uff0c\u8fd4\u56de\u7684\u662f\u4f4d\u59ff */ } /** * @brief \u5411\u68c0\u6d4b\u5668\u4f20\u9012\u56fe\u50cf\u6570\u636e * @param [inputImg] \u8f93\u5165\uff0c\u4f20\u9012\u7684\u56fe\u50cf * @return void */ void setDepthImg(const cv::Mat &inputImg){ /** * \u7f16\u5199\u4fdd\u5b58\u76f8\u5173\u6df1\u5ea6\u56fe\u7684\u4ee3\u7801 */ } /** * @brief \u5411\u68c0\u6d4b\u5668\u4f20\u9012\u56fe\u50cf\u6570\u636e * @param [inputImg] \u8f93\u5165\uff0c\u4f20\u9012\u7684\u56fe\u50cf * @return void */ void setColorImg(const cv::Mat &inputImg){ /** * \u7f16\u5199\u4fdd\u5b58\u76f8\u5173\u5f69\u8272\u56fe\u7684\u4ee3\u7801 */ } H_DECLARE_PLUGIN(IDetector) H_EXPORT_PLUGIN(ADetector, \"ADetector\", \"1.0\") } \u5728\u7f16\u5199\u76f8\u5173\u7b97\u6cd5\u5b9e\u4f8b\u7684\u8bc6\u522b\u5668\u7684\u65f6\u5019\uff0c\u6211\u4eec\u7684\u8bc6\u522b\u5668\u5b9e\u4f8b\u9700\u8981\u7ee7\u627f IDetector \uff0c\u800c\u6b64\u5904\u7ee7\u627f\u4e86CBaseDetector\uff0c\u5177\u4f53\u539f\u56e0\u4e5f\u662f\u548c\u8bad\u7ec3\u5668\u8bf4\u7684\u4e00\u81f4\u3002 \u5728ADetector\u4e2d\uff0c\u6211\u4eec\u9700\u8981\u5b9e\u73b0\u4ee5\u4e0b\u63a5\u53e3 int detection() \uff1a\u8be5\u63a5\u53e3\u4e3b\u8981\u5c31\u662f\u5b9e\u73b0\u5177\u4f53\u7684\u7269\u4f53\u8bc6\u522b\u903b\u8f91\uff0c\u8be5\u63a5\u53e3\u4f1a\u7531Vision\u6a21\u5757\u8c03\u7528 int loadData() \uff1a\u8be5\u63a5\u53e3\u7684\u4e3b\u8981\u76ee\u7684\u5c31\u662f\u4e3a\u4e86\u52a0\u8f7d\u88ab\u8bc6\u522b\u7269\u4f53\u7684\u8bad\u7ec3\u53c2\u6570\u3002\u800c\u76f8\u5173\u53c2\u6570\u5c31\u662f\u4fdd\u5b58\u5728path\u8def\u5f84\u4e0b\u7684\u3002\u800c\u5177\u4f53\u7684\u6570\u636e\u7684\u4fdd\u5b58\u683c\u5f0f\u5219\u662fATrainer\u5b9a\u4e49\u7684\u3002 int getResult() \uff1a\u8be5\u63a5\u53e3\u7684\u4e3b\u8981\u4f5c\u7528\u5c31\u662f\u5f53\u8bc6\u522b\u7ed3\u675f\u540e\uff0cVision\u8c03\u7528\u8be5\u63a5\u53e3\u6765\u83b7\u53d6\u5177\u4f53\u7684\u8bc6\u522b\u7ed3\u679c\u3002\u5e94\u6b21\u5728\u8be5\u7ed3\u679c\u4e2d\u5b9e\u73b0\u8bc6\u522b\u7ed3\u679c\u7684\u8fd4\u56de\u3002 void setDepthImg() \uff1a\u8be5\u63a5\u53e3\u7684\u4e3b\u8981\u4f5c\u7528\u5c31\u662f\u4fdd\u5b58\u7531Vision\u6a21\u5757\u4f20\u9012\u7ed9\u8bc6\u522b\u5668\u7684\u6df1\u5ea6\u56fe\u50cf\u6570\u636e\uff0c\u4f9b\u8bc6\u522b\u7684\u65f6\u5019\u4f7f\u7528\uff0c\u5982\u679c\u8bc6\u522b\u5668\u8bc6\u522b\u4e0d\u9700\u8981\u6df1\u5ea6\u56fe\uff0c\u5219\u8be5\u63a5\u53e3\u65e0\u9700\u5b9e\u73b0\u3002 void setColorImg() \uff1a\u8be5\u63a5\u53e3\u7684\u4e3b\u8981\u4f5c\u7528\u5c31\u662f\u4fdd\u5b58\u7531Vision\u6a21\u5757\u4f20\u9012\u7ed9\u8bc6\u522b\u5668\u7684\u5f69\u8272\u56fe\u50cf\u6570\u636e\uff0c\u4f9b\u8bc6\u522b\u7684\u65f6\u5019\u4f7f\u7528\uff0c\u5982\u679c\u8bc6\u522b\u5668\u8bc6\u522b\u4e0d\u9700\u8981\u5f69\u8272\u56fe\uff0c\u5219\u8be5\u63a5\u53e3\u65e0\u9700\u5b9e\u73b0\u3002 \u540c\u6837\u7684\uff0c\u5728\u5b9e\u73b0\u5b8c\u4e0a\u8bc9\u63a5\u53e3\u540e\uff0c\u6211\u4eec\u9700\u8981\u5bfc\u51fa\u6211\u4eec\u7684\u8bc6\u522b\u5668 H_DECLARE_PLUGIN(IDetector) H_EXPORT_PLUGIN(ADetector, \"ADetector\", \"1.0\") \u5bf9\u4e8e\u8be5\u5b8f\u7684\u4f7f\u7528\u548c\u5b9a\u4e49\u53ef\u53c2\u8003 HPluin\u5f00\u53d1\u6307\u5357 \u3002","title":"\u7f16\u5199\u8bc6\u522b\u5668"},{"location":"dpm/vision_guide/#_14","text":"\u5bf9\u4e8e\u4e0a\u8ff0ADetector\u5b9e\u73b0\u7684\u63a5\u53e3\uff0cVision\u6a21\u5757\u5bf9\u5176\u63a5\u53e3\u7684\u8c03\u7528\u65f6\u673a\u5982\u4e0b\u3002 Vision\u6a21\u5757\u9996\u5148\u6839\u636e\u7528\u6237\u8bf7\u6c42\uff0c\u8c03\u7528 ADetector() \u6784\u9020\u51fd\u6570 \u7136\u540e\u8c03\u7528ADetector\u4e2d\u7684 loadData() \u63a5\u53e3\uff0c\u6765\u901a\u77e5ADetector\u6765\u52a0\u8f7d\u88ab\u8bc6\u522b\u7269\u4f53\u7684\u8bad\u7ec3\u53c2\u6570 \u5728\u52a0\u8f7d\u5b8c\u76f8\u5173\u53c2\u6570\u540e\uff0cVision\u6a21\u5757\u4fbf\u4f1a\u901a\u8fc7 setDepthImg() \u548c setColorImg() \u63a5\u53e3\u5411ADetector\u4f20\u9012\u5f85\u8bc6\u522b\u7684\u56fe\u50cf\u6570\u636e \u5728\u4f20\u9012\u5b8c\u76f8\u5173\u53c2\u6570\u540e\uff0cVision\u6a21\u5757\u4fbf\u4f1a\u8c03\u7528ADetector\u7684 detection() \u63a5\u53e3\u6765\u8fdb\u884c\u7269\u4f53\u8bc6\u522b \u5f53\u901a\u8fc7detection()\u63a5\u53e3\u6267\u884c\u5b8c\u6210\uff0c\u5373\u8bc6\u522b\u5b8c\u6210\u540e\uff0cVision\u6a21\u5757\u5c31\u4f1a\u8c03\u7528 getResult() \u63a5\u53e3\u6765\u83b7\u53d6\u8bc6\u522b\u7684\u7ed3\u679c","title":"\u8bad\u7ec3\u5668\u63a5\u53e3\u8c03\u7528\u987a\u5e8f"},{"location":"dpm/vision_guide/#_15","text":"\u4f7f\u7528\u4e0b\u9762\u7684Cmake\u6587\u4ef6\u6765\u8fdb\u884c\u5de5\u7a0b\u914d\u7f6e cmake_minimum_required (VERSION 2.6) project (VisionDemo) add_library(ADetector ADetector.cpp) add_library(ATrainer ATrainer.cpp) find_package(hirop_vision REQUIRED) INCLUDE_DIRECTORIES(${hirop_vision_INCLUDE_DIRS}) TARGET_LINK_LIBRARIES(ADetector ${hirop_vision_LIBRARIES}) TARGET_LINK_LIBRARIES(ATrainer ${hirop_vision_LIBRARIES}) $ cmake ./ $ make $ export VISION_PLUGIN_PATH=$VISION_PLUGIN_PATH:\\`pwd\\`","title":"\u7f16\u8bd1"},{"location":"dpm/vision_guide/#_16","text":"\u53ef\u4f7f\u7528\u4ee5\u4e0b\u6307\u4ee4\u8fdb\u884c\u6d4b\u8bd5 $ rosrun vision_bridge vision_bridge $ rosservice call /detection cokecan A 0 \"\" \u5176\u4e2d\u7b2c\u4e8c\u6761\u6307\u4ee4 $ rosservice call /detection cokecan A 0 \"\" cokecan : \u5f85\u8bc6\u522b\u7269\u4f53\u540d\u79f0 A : \u8bc6\u522b\u5668\u540d\u79f0 0 : \u8bc6\u522b\u5668\u7684\u7c7b\u522b\uff0c 0\u4e3aC++ 1\u4e3apython","title":"\u6d4b\u8bd5"},{"location":"dpm/vision_guide/#python","text":"\u5bf9\u4e8ePython\u5f00\u53d1\u8005\uff0c\u6240\u6709\u7684\u63a5\u53e3\u7684\u548cC++\u7248\u672c\u5747\u4e00\u81f4\uff0c\u53ea\u662f\u5c06\u7f16\u7a0b\u8bed\u8a00\u53d8\u6210\u4e86Python\u3002\u4e0b\u9762\u6211\u4eec\u53ea\u4ee5\u7f16\u5199\u8bc6\u522b\u5668\u6765\u4f5c\u4e3a\u4f8b\u5b50\u8bb2\u89e3\u5373\u53ef\u3002","title":"Python"},{"location":"dpm/vision_guide/#_17","text":"class ADetector: def __init__(self): # do some init def detection(self): # do something detection def loadData(self, path, objectname): # load data from path def getResult(self, poses): # returen result def setDepthImg(self, img): # save depth image def setColorImg(self, img): # save color image \u5b9e\u73b0\u4e00\u4e2aPython\u7248\u672c\u7684\u8bc6\u522b\u5668\u53ea\u9700\u5b9e\u73b0\u4e00\u4e2a\u62e5\u6709\u4e0a\u8ff0\u63a5\u53e3\u7684\u7c7b\u5373\u53ef\u3002\u5176\u4f5c\u7528\u548c\u8c03\u7528\u987a\u5e8f\u548cC++\u7248\u672c\u7684\u4e00\u81f4","title":"\u7f16\u5199\u8bc6\u522b\u5668"},{"location":"dpm/vision_guide/#_18","text":"\u65e0\u9700\u7f16\u8bd1\uff0c\u53ea\u9700\u5c06python\u6e90\u6587\u4ef6\u547d\u540d\u4e3aADetector.py\u5e76\u653e\u7f6e\u5728VISION_PLUGIN_PATH\u73af\u5883\u53d8\u91cf\u8def\u5f84\u4e0b\u5373\u53ef","title":"\u7f16\u8bd1"},{"location":"dpm/vision_guide/#_19","text":"$ rosrun vision_bridge vision_bridge $ rosservice call /detection cokecan A 1 \"\"","title":"\u6d4b\u8bd5"},{"location":"env-setup/","text":"\u73af\u5883\u642d\u5efa\u6307\u5357\u6c47\u603b \u8be5\u6587\u6863\u6c47\u603b\u4e86\u5728 HIROP \u5e73\u53f0\u6240\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u9a71\u52a8\u3001\u8f6f\u4ef6\u5305\u7b49\u7684\u5b89\u88c5\u6559\u7a0b\u3002\u5728\u8fd9\u91cc\u4f60\u53ef\u4ee5\u627e\u5230\u5927\u90e8\u5206\u8f83\u590d\u6742\u8f6f\u4ef6\u7684\u5b89\u88c5\u6559\u7a0b\u3002 \u5217\u8868 ros_qtc_plugin\u7f16\u8bd1\u6307\u5357 ORK\u73af\u5883\u642d\u5efa\u6307\u5357 KinectV2\u73af\u5883\u642d\u5efa\u6307\u5357 OpenNI2\u73af\u5883\u642d\u5efa\u6307\u5357 Intel RealSence D435i\u73af\u5883\u642d\u5efa\u6307\u5357","title":"\u5e8f"},{"location":"env-setup/#_1","text":"\u8be5\u6587\u6863\u6c47\u603b\u4e86\u5728 HIROP \u5e73\u53f0\u6240\u4f9d\u8d56\u7684\u7b2c\u4e09\u65b9\u9a71\u52a8\u3001\u8f6f\u4ef6\u5305\u7b49\u7684\u5b89\u88c5\u6559\u7a0b\u3002\u5728\u8fd9\u91cc\u4f60\u53ef\u4ee5\u627e\u5230\u5927\u90e8\u5206\u8f83\u590d\u6742\u8f6f\u4ef6\u7684\u5b89\u88c5\u6559\u7a0b\u3002","title":"\u73af\u5883\u642d\u5efa\u6307\u5357\u6c47\u603b"},{"location":"env-setup/#_2","text":"ros_qtc_plugin\u7f16\u8bd1\u6307\u5357 ORK\u73af\u5883\u642d\u5efa\u6307\u5357 KinectV2\u73af\u5883\u642d\u5efa\u6307\u5357 OpenNI2\u73af\u5883\u642d\u5efa\u6307\u5357 Intel RealSence D435i\u73af\u5883\u642d\u5efa\u6307\u5357","title":"\u5217\u8868"},{"location":"env-setup/ros_qtc_plugin/","text":"ros_qtc_plugin\u7f16\u8bd1 ROS\u4e0b\u7f16\u8bd1qtc\u63d2\u4ef6 \u51c6\u5907 \u5728\u7f16\u8bd1qtc\u63d2\u4ef6\u4e4b\u524d\uff0c\u9700\u8981\u51c6\u5907\u4e0b\u8f7d\u6e90\u7801 QT Creator\u6e90\u7801 ros_qtc_plugin\u6e90\u7801 Warning \u9700\u8981\u6ce8\u610f\u4e24\u4e2a\u6e90\u7801\u7684\u7248\u672c\u9700\u8981\u5bf9\u5e94\uff0c\u5efa\u8bae\u4f7f\u7528\u7cfb\u7edf\u4e2d\u7684QT\u7248\u672c\u6240\u5bf9\u5e94\u7684QT Creator\u7248\u672c \u7f16\u8bd1 \u5728\u7f16\u8bd1\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u4e8b\u9879 QT Creator\u548cros_qtc_plugin\u7684\u6e90\u7801\u5e94\u5f53\u653e\u5728\u540c\u4e00\u76ee\u5f55\u4e0b QT Creator\u7684\u6e90\u7801\u76ee\u5f55\u540d\u5e94\u5f53\u4e3a qt-creator QT Creator\u7684\u7f16\u8bd1\u76ee\u5f55\u540d\u5e94\u5f53\u4e3a qt-creator-build \u7f16\u8bd1 lxqt-build-tools $ git clone https://github.com/lxqt/lxqt-build-tools.git $ cd lxqt-build-tools $ cmake ./ $ sudo make install \u7f16\u8bd1 qtermwidget $ git clone https://github.com/lxqt/qtermwidget.git $ cd qtermwidget $ cmake ./ $ make; sudo make install \u7f16\u8bd1ros_qtc_plugin\u63d2\u4ef6 \u4f7f\u7528qtcreator\u8fdb\u884c\u7f16\u8bd1\u5373\u53ef","title":"ros_qtc_plugin\u73af\u5883\u642d\u5efa"},{"location":"env-setup/ros_qtc_plugin/#ros_qtc_plugin","text":"ROS\u4e0b\u7f16\u8bd1qtc\u63d2\u4ef6","title":"ros_qtc_plugin\u7f16\u8bd1"},{"location":"env-setup/ros_qtc_plugin/#_1","text":"\u5728\u7f16\u8bd1qtc\u63d2\u4ef6\u4e4b\u524d\uff0c\u9700\u8981\u51c6\u5907\u4e0b\u8f7d\u6e90\u7801 QT Creator\u6e90\u7801 ros_qtc_plugin\u6e90\u7801 Warning \u9700\u8981\u6ce8\u610f\u4e24\u4e2a\u6e90\u7801\u7684\u7248\u672c\u9700\u8981\u5bf9\u5e94\uff0c\u5efa\u8bae\u4f7f\u7528\u7cfb\u7edf\u4e2d\u7684QT\u7248\u672c\u6240\u5bf9\u5e94\u7684QT Creator\u7248\u672c","title":"\u51c6\u5907"},{"location":"env-setup/ros_qtc_plugin/#_2","text":"\u5728\u7f16\u8bd1\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u6ce8\u610f\u4ee5\u4e0b\u4e8b\u9879 QT Creator\u548cros_qtc_plugin\u7684\u6e90\u7801\u5e94\u5f53\u653e\u5728\u540c\u4e00\u76ee\u5f55\u4e0b QT Creator\u7684\u6e90\u7801\u76ee\u5f55\u540d\u5e94\u5f53\u4e3a qt-creator QT Creator\u7684\u7f16\u8bd1\u76ee\u5f55\u540d\u5e94\u5f53\u4e3a qt-creator-build","title":"\u7f16\u8bd1"},{"location":"env-setup/ros_qtc_plugin/#lxqt-build-tools","text":"$ git clone https://github.com/lxqt/lxqt-build-tools.git $ cd lxqt-build-tools $ cmake ./ $ sudo make install","title":"\u7f16\u8bd1 lxqt-build-tools"},{"location":"env-setup/ros_qtc_plugin/#qtermwidget","text":"$ git clone https://github.com/lxqt/qtermwidget.git $ cd qtermwidget $ cmake ./ $ make; sudo make install","title":"\u7f16\u8bd1 qtermwidget"},{"location":"env-setup/ros_qtc_plugin/#ros_qtc_plugin_1","text":"\u4f7f\u7528qtcreator\u8fdb\u884c\u7f16\u8bd1\u5373\u53ef","title":"\u7f16\u8bd1ros_qtc_plugin\u63d2\u4ef6"},{"location":"start/install/","text":"\u73af\u5883\u642d\u5efa \u5f53\u524d\u6559\u7a0b\u57fa\u4e8eROS indigo ROS\u73af\u5883\u642d\u5efa \u8bbe\u7f6e\u6e90 sudo sh -c '. /etc/lsb-release && echo \"deb http://mirrors.ustc.edu.cn/ros/ubuntu/ $DISTRIB_CODENAME main\" > /etc/apt/sources.list.d/ros-latest.list' \u8bbe\u7f6e\u5bc6\u94a5 sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116 \u66f4\u65b0\u6e90 sudo apt-get update sudo apt-get upgrade \u5b89\u88c5ROS sudo apt-get install ros-indigo-desktop-full \u521d\u59cb\u5316rosdep sudo rosdep init \u66f4\u65b0rosdep rosdep update \u8bbe\u7f6e\u73af\u5883\u53d8\u91cf echo source /opt/ros/indigo/setup.bash >> ~/.bashrc HIROP\u73af\u5883\u642d\u5efa \u521b\u5efa\u5de5\u4f5c\u533a $ cd ~; mkdir catkin_ws $ cd catkin_ws; mkdir src $ catkin_make $ echo source ~/catkin_ws/devel/setup.bash >> ~/.bashrc \u4e0b\u8f7d\u6e90\u7801 sudo apt-get install git cd ~/catkin_ws/src git clone https://github.com/HSRobot/hsr_irp.git \u4e0b\u8f7d\u4f9d\u8d56\u9879 sudo apt-get install ros-indigo-industrial-core sudo apt-get install ros-indigo-moveit-full sudo apt-get install ros-indigo-serial sudo apt-get install ros-indigo-gazebo-ros-control sudo apt-get install ros-indigo-joint-trajectory-controller sudo apt-get install ros-indigo-joint-state-controller sudo apt-get install ros-indigo-effort-controllers sudo apt-get install ros-indigo-position-controllers \u7f16\u8bd1 catkin_make","title":"\u73af\u5883\u642d\u5efa"},{"location":"start/install/#_1","text":"\u5f53\u524d\u6559\u7a0b\u57fa\u4e8eROS indigo","title":"\u73af\u5883\u642d\u5efa"},{"location":"start/install/#ros","text":"","title":"ROS\u73af\u5883\u642d\u5efa"},{"location":"start/install/#_2","text":"sudo sh -c '. /etc/lsb-release && echo \"deb http://mirrors.ustc.edu.cn/ros/ubuntu/ $DISTRIB_CODENAME main\" > /etc/apt/sources.list.d/ros-latest.list'","title":"\u8bbe\u7f6e\u6e90"},{"location":"start/install/#_3","text":"sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116","title":"\u8bbe\u7f6e\u5bc6\u94a5"},{"location":"start/install/#_4","text":"sudo apt-get update sudo apt-get upgrade","title":"\u66f4\u65b0\u6e90"},{"location":"start/install/#ros_1","text":"sudo apt-get install ros-indigo-desktop-full","title":"\u5b89\u88c5ROS"},{"location":"start/install/#rosdep","text":"sudo rosdep init","title":"\u521d\u59cb\u5316rosdep"},{"location":"start/install/#rosdep_1","text":"rosdep update","title":"\u66f4\u65b0rosdep"},{"location":"start/install/#_5","text":"echo source /opt/ros/indigo/setup.bash >> ~/.bashrc","title":"\u8bbe\u7f6e\u73af\u5883\u53d8\u91cf"},{"location":"start/install/#hirop","text":"","title":"HIROP\u73af\u5883\u642d\u5efa"},{"location":"start/install/#_6","text":"$ cd ~; mkdir catkin_ws $ cd catkin_ws; mkdir src $ catkin_make $ echo source ~/catkin_ws/devel/setup.bash >> ~/.bashrc","title":"\u521b\u5efa\u5de5\u4f5c\u533a"},{"location":"start/install/#_7","text":"sudo apt-get install git cd ~/catkin_ws/src git clone https://github.com/HSRobot/hsr_irp.git","title":"\u4e0b\u8f7d\u6e90\u7801"},{"location":"start/install/#_8","text":"sudo apt-get install ros-indigo-industrial-core sudo apt-get install ros-indigo-moveit-full sudo apt-get install ros-indigo-serial sudo apt-get install ros-indigo-gazebo-ros-control sudo apt-get install ros-indigo-joint-trajectory-controller sudo apt-get install ros-indigo-joint-state-controller sudo apt-get install ros-indigo-effort-controllers sudo apt-get install ros-indigo-position-controllers","title":"\u4e0b\u8f7d\u4f9d\u8d56\u9879"},{"location":"start/install/#_9","text":"catkin_make","title":"\u7f16\u8bd1"},{"location":"wiki/wiki-index/","text":"Wiki For full documentation visit mkdocs.org . Commands mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs help - Print this help message. Project layout mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Wiki"},{"location":"wiki/wiki-index/#wiki","text":"For full documentation visit mkdocs.org .","title":"Wiki"},{"location":"wiki/wiki-index/#commands","text":"mkdocs new [dir-name] - Create a new project. mkdocs serve - Start the live-reloading docs server. mkdocs build - Build the documentation site. mkdocs help - Print this help message.","title":"Commands"},{"location":"wiki/wiki-index/#project-layout","text":"mkdocs.yml # The configuration file. docs/ index.md # The documentation homepage. ... # Other markdown pages, images and other files.","title":"Project layout"}]}